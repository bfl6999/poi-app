import{f as is,h as rs}from"./chunk-JLWCWYF5.js";import{a as So}from"./chunk-R265GKSD.js";import{$b as Qo,Aa as so,B as Gr,Ba as ao,Ca as co,D as Rt,E as Kr,Ea as Ke,Eb as fi,Fa as xe,Fb as mi,Ga as ue,Gb as Ro,H as si,Ha as go,Hb as Po,I as ai,Ia as sn,Ib as ko,J as Hr,Ja as nt,Jb as Vo,K as Wr,Ka as it,Kb as No,L as Qr,La as an,Lb as Mo,Ma as yo,Mb as Fo,Na as vo,Nb as Oo,Oa as Io,Ob as pn,Pa as cn,Pb as jo,Q as ci,Qa as ln,Qb as Lo,R as li,Ra as un,Rb as Bo,Sa as dn,Sb as zo,T as Yr,Ta as rt,Tb as qo,U as Xr,Ua as hn,Ub as $o,V as Zr,Va as Vt,Vb as Nt,Wa as _o,Wb as Uo,Xa as wo,Xb as Go,Ya as ot,Yb as Ko,Zb as Ho,_b as Wo,ac as Yo,b as ii,bc as Xo,cc as Zo,dc as Jo,f as zr,fc as es,gc as ts,h as qr,ia as Jr,j as Ge,ja as eo,jc as ns,k as en,l as tn,o as et,p as $r,pb as hi,q as xt,qa as to,qb as fn,rb as Eo,s as ri,t as oi,ua as no,ub as To,vb as bo,w as ye,wa as io,x as Ur,xa as ro,y as St,ya as oo}from"./chunk-CP2QVCAP.js";import{a as st,c as Co,d as mn,g as Ao,h as pi,i as Do}from"./chunk-MLALSVVT.js";import"./chunk-EVXCY5NW.js";import"./chunk-JXNEG2Q2.js";import{a as M,g as po,h as nn,i as rn}from"./chunk-FUY72XGA.js";import{a as lo,b as ve,d as ui,e as Q,f as Me,i as U,j as Ie}from"./chunk-EQDBGDMV.js";import{a as di}from"./chunk-WESY2VG5.js";import{c as on}from"./chunk-M2X7KQLB.js";import{a as gi}from"./chunk-2YSZFPCQ.js";import{a as xo}from"./chunk-57YRIO75.js";import{b as tt,c as ho,d as fo,f as Y,g as De,i as kt,k as mo}from"./chunk-XTVTS2NW.js";import{a as le,e as Fe,f as uo}from"./chunk-C5RQ2IC2.js";import{a as Pt}from"./chunk-42C7ZIID.js";import{a as ti,b as ni,f as O}from"./chunk-D7YYRZS5.js";var at=()=>{let o;return{lock:()=>O(null,null,function*(){let i=o,s;return o=new Promise(c=>s=c),i!==void 0&&(yield i),s})}};var Za=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",Ja=Ie(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=U(this,"ionNavWillLoad",7),this.ionNavWillChange=U(this,"ionNavWillChange",3),this.ionNavDidChange=U(this,"ionNavDidChange",3),this.lockController=at(),this.gestureOrAnimationInProgress=!1,this.mode=ue(this),this.animated=!0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}connectedCallback(){return O(this,null,function*(){let t=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(yield import("./chunk-RIVQSE7D.js")).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>t(),i=>{var s;return(s=this.ani)===null||s===void 0?void 0:s.progressStep(i)},(i,s,c)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(i)},{oneTimeCallback:!0});let u=i?-.001:.001;i?u+=Ke([0,0],[.32,.72],[0,1],[1,1],s)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),u+=Ke([0,0],[1,0],[.68,.28],[1,1],s)[0]),this.ani.progressEnd(i?1:0,u,c)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()})}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}commit(t,i,s){return O(this,null,function*(){let c=yield this.lockController.lock(),u=!1;try{u=yield this.transition(t,i,s)}catch(v){uo("[ion-router-outlet] - Exception in commit:",v)}return c(),u})}setRouteId(t,i,s,c){return O(this,null,function*(){return{changed:yield this.setRoot(t,i,{duration:s==="root"?0:void 0,direction:s==="back"?"back":"forward",animationBuilder:c}),element:this.activeEl}})}getRouteId(){return O(this,null,function*(){let t=this.activeEl;return t?{id:t.tagName,element:t,params:this.activeParams}:void 0})}setRoot(t,i,s){return O(this,null,function*(){if(this.activeComponent===t&&mo(i,this.activeParams))return!1;let c=this.activeEl,u=yield nt(this.delegate,this.el,t,["ion-page","ion-page-invisible"],i);return this.activeComponent=t,this.activeEl=u,this.activeParams=i,yield this.commit(u,c,s),yield it(this.delegate,c),!0})}transition(c,u){return O(this,arguments,function*(t,i,s={}){if(i===t)return!1;this.ionNavWillChange.emit();let{el:v,mode:I}=this,w=this.animated&&le.getBoolean("animated",!0),T=s.animationBuilder||this.animation||le.get("navAnimation");return yield po(Object.assign(Object.assign({mode:I,animated:w,enteringEl:t,leavingEl:i,baseEl:v,deepWait:tt(v),progressCallback:s.progressAnimation?S=>{S!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,S.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),S.progressEnd(0,0,0)):this.ani=S}:void 0},s),{animationBuilder:T})),this.ionNavDidChange.emit(),!0})}render(){return Q("slot",{key:"84b50f1155b0d780dff802ee13223287259fd525"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return Za}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16,"swipe-handler"],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function ec(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(t=>{switch(t){case"ion-router-outlet":customElements.get(t)||customElements.define(t,Ja);break}})}var os=ec;var tc=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",nc=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",ic=Ie(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=U(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(t){this.emitTap(t)}emitTap(t){this.stopPropagation&&(t.preventDefault(),t.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){let t=ue(this);return Q(Me,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[t]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:tc,md:nc}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function gn(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(t=>{switch(t){case"ion-backdrop":customElements.get(t)||customElements.define(t,ic);break}})}var Mt=function(o){return o.Dark="DARK",o.Light="LIGHT",o.Default="DEFAULT",o}(Mt||{}),_i={getEngine(){let o=xo();if(o?.isPluginAvailable("StatusBar"))return o.Plugins.StatusBar},setStyle(o){let t=this.getEngine();t&&t.setStyle(o)},getStyle:function(){return O(this,null,function*(){let o=this.getEngine();if(!o)return Mt.Default;let{style:t}=yield o.getInfo();return t})}},yi=(o,t)=>{if(t===1)return 0;let i=1/(1-t),s=-(t*i);return o*i+s},ls=()=>{!Pt||Pt.innerWidth>=768||_i.setStyle({style:Mt.Dark})},vi=(o=Mt.Default)=>{!Pt||Pt.innerWidth>=768||_i.setStyle({style:o})},us=(o,t)=>O(null,null,function*(){typeof o.canDismiss!="function"||!(yield o.canDismiss(void 0,Vt))||(t.isRunning()?t.onFinish(()=>{o.dismiss(void 0,"handler")},{oneTimeCallback:!0}):o.dismiss(void 0,"handler"))}),Ii=o=>.00255275*2.71828**(-14.9619*o)-1.00255*2.71828**(-.0380968*o)+1,yn={MIN_PRESENTING_SCALE:.915},rc=(o,t,i,s)=>{let u=o.offsetHeight,v=!1,I=!1,w=null,T=null,S=.2,P=!0,D=0,k=()=>w&&st(w)?w.scrollY:!0,B=on({el:o,gestureName:"modalSwipeToClose",gesturePriority:_o,direction:"y",threshold:10,canStart:N=>{let A=N.event.target;return A===null||!A.closest?!0:(w=mn(A),w?(st(w)?T=Y(w).querySelector(".inner-scroll"):T=w,!!!w.querySelector("ion-refresher")&&T.scrollTop===0):A.closest("ion-footer")===null)},onStart:N=>{let{deltaY:A}=N;P=k(),I=o.canDismiss!==void 0&&o.canDismiss!==!0,A>0&&w&&pi(w),t.progressStart(!0,v?1:0)},onMove:N=>{let{deltaY:A}=N;A>0&&w&&pi(w);let q=N.deltaY/u,R=q>=0&&I,p=R?S:.9999,l=R?Ii(q/p):q,d=kt(1e-4,l,p);t.progressStep(d),d>=.5&&D<.5?vi(i):d<.5&&D>=.5&&ls(),D=d},onEnd:N=>{let A=N.velocityY,q=N.deltaY/u,R=q>=0&&I,p=R?S:.9999,l=R?Ii(q/p):q,d=kt(1e-4,l,p),f=(N.deltaY+A*1e3)/u,m=!R&&f>=.5,g=m?-.001:.001;m?(t.easing("cubic-bezier(0.32, 0.72, 0, 1)"),g+=Ke([0,0],[.32,.72],[0,1],[1,1],d)[0]):(t.easing("cubic-bezier(1, 0, 0.68, 0.28)"),g+=Ke([0,0],[1,0],[.68,.28],[1,1],d)[0]);let h=ss(m?q*u:(1-d)*u,A);v=m,B.enable(!1),w&&Do(w,P),t.onFinish(()=>{m||B.enable(!0)}).progressEnd(m?1:0,g,h),R&&d>p/4?us(o,t):m&&s()}});return B},ss=(o,t)=>kt(400,o/Math.abs(t*1.1),500),ds=o=>{let{currentBreakpoint:t,backdropBreakpoint:i,expandToScroll:s}=o,c=i===void 0||i<t,u=c?`calc(var(--backdrop-opacity) * ${t})`:"0",v=M("backdropAnimation").fromTo("opacity",0,u);c&&v.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);let I=M("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-t*100}%)`}]),w=s?void 0:M("contentAnimation").keyframes([{offset:0,opacity:1,maxHeight:`${(1-t)*100}%`},{offset:1,opacity:1,maxHeight:`${t*100}%`}]);return{wrapperAnimation:I,backdropAnimation:v,contentAnimation:w}},hs=o=>{let{currentBreakpoint:t,backdropBreakpoint:i}=o,s=`calc(var(--backdrop-opacity) * ${yi(t,i)})`,c=[{offset:0,opacity:s},{offset:1,opacity:0}],u=[{offset:0,opacity:s},{offset:i,opacity:0},{offset:1,opacity:0}],v=M("backdropAnimation").keyframes(i!==0?u:c);return{wrapperAnimation:M("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-t*100}%)`},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:v}},oc=()=>{let o=M().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),t=M().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:o,wrapperAnimation:t,contentAnimation:void 0}},as=(o,t)=>{let{presentingEl:i,currentBreakpoint:s,expandToScroll:c}=t,u=Y(o),{wrapperAnimation:v,backdropAnimation:I,contentAnimation:w}=s!==void 0?ds(t):oc();I.addElement(u.querySelector("ion-backdrop")),v.addElement(u.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}),!c&&w?.addElement(o.querySelector(".ion-page"));let T=M("entering-base").addElement(o).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation([v]);if(w&&T.addAnimation(w),i){let S=window.innerWidth<768,P=i.tagName==="ION-MODAL"&&i.presentingElement!==void 0,D=Y(i),k=M().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),C=document.body;if(S){let V=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",b=P?"-10px":V,j=yn.MIN_PRESENTING_SCALE,B=`translateY(${b}) scale(${j})`;k.afterStyles({transform:B}).beforeAddWrite(()=>C.style.setProperty("background-color","black")).addElement(i).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:B,borderRadius:"10px 10px 0 0"}]),T.addAnimation(k)}else if(T.addAnimation(I),!P)v.fromTo("opacity","0","1");else{let b=`translateY(-10px) scale(${P?yn.MIN_PRESENTING_SCALE:1})`;k.afterStyles({transform:b}).addElement(D.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:b}]);let j=M().afterStyles({transform:b}).addElement(D.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:b}]);T.addAnimation([k,j])}}else T.addAnimation(I);return T},sc=()=>{let o=M().fromTo("opacity","var(--backdrop-opacity)",0),t=M().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:o,wrapperAnimation:t}},cs=(o,t,i=500)=>{let{presentingEl:s,currentBreakpoint:c}=t,u=Y(o),{wrapperAnimation:v,backdropAnimation:I}=c!==void 0?hs(t):sc();I.addElement(u.querySelector("ion-backdrop")),v.addElement(u.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});let w=M("leaving-base").addElement(o).easing("cubic-bezier(0.32,0.72,0,1)").duration(i).addAnimation(v);if(s){let T=window.innerWidth<768,S=s.tagName==="ION-MODAL"&&s.presentingElement!==void 0,P=Y(s),D=M().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(C=>{if(C!==1)return;s.style.setProperty("overflow",""),Array.from(k.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(b=>b.presentingElement!==void 0).length<=1&&k.style.setProperty("background-color","")}),k=document.body;if(T){let C=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",V=S?"-10px":C,b=yn.MIN_PRESENTING_SCALE,j=`translateY(${V}) scale(${b})`;D.addElement(s).keyframes([{offset:0,filter:"contrast(0.85)",transform:j,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),w.addAnimation(D)}else if(w.addAnimation(I),!S)v.fromTo("opacity","1","0");else{let V=`translateY(-10px) scale(${S?yn.MIN_PRESENTING_SCALE:1})`;D.addElement(P.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:V},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);let b=M().addElement(P.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:V},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);w.addAnimation([D,b])}}else w.addAnimation(I);return w},ac=()=>{let o=M().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),t=M().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:o,wrapperAnimation:t,contentAnimation:void 0}},cc=(o,t)=>{let{currentBreakpoint:i,expandToScroll:s}=t,c=Y(o),{wrapperAnimation:u,backdropAnimation:v,contentAnimation:I}=i!==void 0?ds(t):ac();v.addElement(c.querySelector("ion-backdrop")),u.addElement(c.querySelector(".modal-wrapper")),!s&&I?.addElement(o.querySelector(".ion-page"));let w=M().addElement(o).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([v,u]);return I&&w.addAnimation(I),w},lc=()=>{let o=M().fromTo("opacity","var(--backdrop-opacity)",0),t=M().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:o,wrapperAnimation:t}},uc=(o,t)=>{let{currentBreakpoint:i}=t,s=Y(o),{wrapperAnimation:c,backdropAnimation:u}=i!==void 0?hs(t):lc();return u.addElement(s.querySelector("ion-backdrop")),c.addElement(s.querySelector(".modal-wrapper")),M().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([u,c])},dc=(o,t,i,s,c,u,v=[],I,w,T,S)=>{let P=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],D=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-c,opacity:0},{offset:1,opacity:0}],k={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:c!==0?D:P,CONTENT_KEYFRAMES:[{offset:0,maxHeight:"100%"},{offset:1,maxHeight:"0%"}]},C=o.querySelector("ion-content"),V=i.clientHeight,b=s,j=0,B=!1,N=null,A=null,q=null,R=null,p=.95,l=v[v.length-1],d=v[0],f=u.childAnimations.find(F=>F.id==="wrapperAnimation"),m=u.childAnimations.find(F=>F.id==="backdropAnimation"),g=u.childAnimations.find(F=>F.id==="contentAnimation"),h=()=>{o.style.setProperty("pointer-events","auto"),t.style.setProperty("pointer-events","auto"),o.classList.remove(ot)},X=()=>{o.style.setProperty("pointer-events","none"),t.style.setProperty("pointer-events","none"),o.classList.add(ot)},de=F=>{if(!A&&(A=o.querySelector("ion-footer"),!A))return;let x=o.querySelector(".ion-page");if(R=F,F==="stationary")A.classList.remove("modal-footer-moving"),A.style.removeProperty("position"),A.style.removeProperty("width"),A.style.removeProperty("height"),A.style.removeProperty("top"),A.style.removeProperty("left"),x?.style.removeProperty("padding-bottom"),x?.appendChild(A);else{let K=A.getBoundingClientRect(),H=document.body.getBoundingClientRect(),me=A.clientHeight;x?.style.setProperty("padding-bottom",`${me}px`),A.classList.add("modal-footer-moving");let Z=K.top-H.top,J=K.left-H.left;A.style.setProperty("position","absolute"),A.style.setProperty("width",`${A.clientWidth}px`),A.style.setProperty("height",`${A.clientHeight}px`),A.style.setProperty("top",`${Z}px`),A.style.setProperty("left",`${J}px`),q=Z;let Be=o.querySelector("ion-toolbar");Be&&(q-=Be.clientHeight),document.body.appendChild(A)}};f&&m&&(f.keyframes([...k.WRAPPER_KEYFRAMES]),m.keyframes([...k.BACKDROP_KEYFRAMES]),g?.keyframes([...k.CONTENT_KEYFRAMES]),u.progressStart(!0,1-b),b>c?h():X()),C&&b!==l&&I&&(C.scrollY=!1);let ht=F=>{let x=mn(F.event.target);if(b=w(),!I&&x)return(st(x)?Y(x).querySelector(".inner-scroll"):x).scrollTop===0;if(b===1&&x){let K=st(x)?Y(x).querySelector(".inner-scroll"):x;return!!!x.querySelector("ion-refresher")&&K.scrollTop===0}return!0},Ee=F=>{if(B=o.canDismiss!==void 0&&o.canDismiss!==!0&&d===0,!I){let x=mn(F.event.target);N=x&&st(x)?Y(x).querySelector(".inner-scroll"):x}I||de("moving"),F.deltaY>0&&C&&(C.scrollY=!1),De(()=>{o.focus()}),u.progressStart(!0,1-b)},Te=F=>{if(!I&&q!==null&&R!==null&&(F.currentY>=q&&R==="moving"?de("stationary"):F.currentY<q&&R==="stationary"&&de("moving")),!I&&F.deltaY<=0&&N)return;F.deltaY>0&&C&&(C.scrollY=!1);let x=1-b,K=v.length>1?1-v[1]:void 0,H=x+F.deltaY/V,me=K!==void 0&&H>=K&&B,Z=me?p:.9999,J=me&&K!==void 0?K+Ii((H-K)/(Z-K)):H;j=kt(1e-4,J,Z),u.progressStep(j)},Le=F=>{if(!I&&F.deltaY<=0&&N&&N.scrollTop>0)return;let x=F.velocityY,K=(F.deltaY+x*350)/V,H=b-K,me=v.reduce((Z,J)=>Math.abs(J-H)<Math.abs(Z-H)?J:Z);Re({breakpoint:me,breakpointOffset:j,canDismiss:B,animated:!0})},Re=F=>{let{breakpoint:x,canDismiss:K,breakpointOffset:H,animated:me}=F,Z=K&&x===0,J=Z?b:x,Be=J!==0;return b=0,f&&m&&(f.keyframes([{offset:0,transform:`translateY(${H*100}%)`},{offset:1,transform:`translateY(${(1-J)*100}%)`}]),m.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${yi(1-H,c)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${yi(J,c)})`}]),g&&g.keyframes([{offset:0,maxHeight:`${(1-H)*100}%`},{offset:1,maxHeight:`${J*100}%`}]),u.progressStep(0)),be.enable(!1),Z?us(o,u):Be||T(),C&&(J===v[v.length-1]||!I)&&(C.scrollY=!0),!I&&J===0&&de("stationary"),new Promise(Pe=>{u.onFinish(()=>{Be?(I||de("stationary"),f&&m?De(()=>{f.keyframes([...k.WRAPPER_KEYFRAMES]),m.keyframes([...k.BACKDROP_KEYFRAMES]),g?.keyframes([...k.CONTENT_KEYFRAMES]),u.progressStart(!0,1-J),b=J,S(b),b>c?h():X(),be.enable(!0),Pe()}):(be.enable(!0),Pe())):Pe()},{oneTimeCallback:!0}).progressEnd(1,0,me?500:0)})},be=on({el:i,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:ht,onStart:Ee,onMove:Te,onEnd:Le});return{gesture:be,moveSheetToBreakpoint:Re}},hc=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}',fc=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}',fs=Ie(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=U(this,"ionModalDidPresent",7),this.willPresent=U(this,"ionModalWillPresent",7),this.willDismiss=U(this,"ionModalWillDismiss",7),this.didDismiss=U(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=U(this,"ionBreakpointDidChange",7),this.didPresentShorthand=U(this,"didPresent",7),this.willPresentShorthand=U(this,"willPresent",7),this.willDismissShorthand=U(this,"willDismiss",7),this.didDismissShorthand=U(this,"didDismiss",7),this.ionMount=U(this,"ionMount",7),this.lockController=at(),this.triggerController=wo(),this.coreDelegate=an(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.expandToScroll=!0,this.backdropBreakpoint=0,this.handleBehavior="none",this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.isOpen=!1,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0,this.onHandleClick=()=>{let{sheetTransition:t,handleBehavior:i}=this;i!=="cycle"||t!==void 0||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{let{sheetTransition:t}=this;t===void 0&&this.dismiss(void 0,hn)},this.onLifecycle=t=>{let i=this.usersElement,s=mc[t.type];if(i&&s){let c=new CustomEvent(s,{bubbles:!1,cancelable:!1,detail:t.detail});i.dispatchEvent(c)}}}onIsOpenChange(t,i){t===!0&&i===!1?this.present():t===!1&&i===!0&&this.dismiss()}triggerChanged(){let{trigger:t,el:i,triggerController:s}=this;t&&s.addClickListener(i,t)}breakpointsChanged(t){t!==void 0&&(this.sortedBreakpoints=t.sort((i,s)=>i-s))}connectedCallback(){let{el:t}=this;cn(t),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var t;let{breakpoints:i,initialBreakpoint:s,el:c,htmlAttributes:u}=this,v=this.isSheetModal=i!==void 0&&s!==void 0,I=["aria-label","role"];this.inheritedAttributes=ho(c,I),u!==void 0&&I.forEach(w=>{u[w]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[w]:u[w]}),delete u[w])}),v&&(this.currentBreakpoint=this.initialBreakpoint),i!==void 0&&s!==void 0&&!i.includes(s)&&Fe("[ion-modal] - Your breakpoints array must include the initialBreakpoint value."),!((t=this.htmlAttributes)===null||t===void 0)&&t.id||ln(this.el)}componentDidLoad(){this.isOpen===!0&&De(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(t=!1){if(this.workingDelegate&&!t)return{delegate:this.workingDelegate,inline:this.inline};let i=this.el.parentNode,s=this.inline=i!==null&&!this.hasController,c=this.workingDelegate=s?this.delegate||this.coreDelegate:this.delegate;return{inline:s,delegate:c}}checkCanDismiss(t,i){return O(this,null,function*(){let{canDismiss:s}=this;return typeof s=="function"?s(t,i):s})}present(){return O(this,null,function*(){let t=yield this.lockController.lock();if(this.presented){t();return}let{presentingElement:i,el:s}=this;this.currentBreakpoint=this.initialBreakpoint;let{inline:c,delegate:u}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=yield nt(u,s,this.component,["ion-page"],this.componentProps,c),tt(s)?yield rn(this.usersElement):this.keepContentsMounted||(yield nn()),ui(()=>this.el.classList.add("show-modal"));let v=i!==void 0;v&&ue(this)==="ios"&&(this.statusBarStyle=yield _i.getStyle(),ls()),yield un(this,"modalEnter",as,cc,{presentingEl:i,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll}),typeof window<"u"&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),De(()=>{this.gesture&&this.gesture.enable(!0)}))},window.addEventListener(gi,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():v&&this.initSwipeToClose(),t()})}initSwipeToClose(){var t;if(ue(this)!=="ios")return;let{el:i}=this,s=this.leaveAnimation||le.get("modalLeave",cs),c=this.animation=s(i,{presentingEl:this.presentingElement,expandToScroll:this.expandToScroll});if(!Co(i)){Ao(i);return}let v=(t=this.statusBarStyle)!==null&&t!==void 0?t:Mt.Default;this.gesture=rc(i,c,v,()=>{this.gestureAnimationDismissing=!0,vi(this.statusBarStyle),this.animation.onFinish(()=>O(this,null,function*(){yield this.dismiss(void 0,Vt),this.gestureAnimationDismissing=!1}))}),this.gesture.enable(!0)}initSheetGesture(){let{wrapperEl:t,initialBreakpoint:i,backdropBreakpoint:s}=this;if(!t||i===void 0)return;let c=this.enterAnimation||le.get("modalEnter",as),u=this.animation=c(this.el,{presentingEl:this.presentingElement,currentBreakpoint:i,backdropBreakpoint:s,expandToScroll:this.expandToScroll});u.progressStart(!0,1);let{gesture:v,moveSheetToBreakpoint:I}=dc(this.el,this.backdropEl,t,i,s,u,this.sortedBreakpoints,this.expandToScroll,()=>{var w;return(w=this.currentBreakpoint)!==null&&w!==void 0?w:0},()=>this.sheetOnDismiss(),w=>{this.currentBreakpoint!==w&&(this.currentBreakpoint=w,this.ionBreakpointDidChange.emit({breakpoint:w}))});this.gesture=v,this.moveSheetToBreakpoint=I,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish(()=>O(this,null,function*(){this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),yield this.dismiss(void 0,Vt),this.gestureAnimationDismissing=!1}))}dismiss(t,i){return O(this,null,function*(){var s;if(this.gestureAnimationDismissing&&i!==Vt)return!1;let c=yield this.lockController.lock();if(i!=="handler"&&!(yield this.checkCanDismiss(t,i)))return c(),!1;let{presentingElement:u}=this;u!==void 0&&ue(this)==="ios"&&vi(this.statusBarStyle),typeof window<"u"&&this.keyboardOpenCallback&&(window.removeEventListener(gi,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);let I=yield dn(this,t,i,"modalLeave",cs,uc,{presentingEl:u,currentBreakpoint:(s=this.currentBreakpoint)!==null&&s!==void 0?s:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll});if(I){let{delegate:w}=this.getDelegate();yield it(w,this.usersElement),ui(()=>this.el.classList.remove("show-modal")),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy()}return this.currentBreakpoint=void 0,this.animation=void 0,c(),I})}onDidDismiss(){return rt(this.el,"ionModalDidDismiss")}onWillDismiss(){return rt(this.el,"ionModalWillDismiss")}setCurrentBreakpoint(t){return O(this,null,function*(){if(!this.isSheetModal){Fe("[ion-modal] - setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(t)){Fe(`[ion-modal] - Attempted to set invalid breakpoint value ${t}. Please double check that the breakpoint value is part of your defined breakpoints.`);return}let{currentBreakpoint:i,moveSheetToBreakpoint:s,canDismiss:c,breakpoints:u,animated:v}=this;i!==t&&s&&(this.sheetTransition=s({breakpoint:t,breakpointOffset:1-i,canDismiss:c!==void 0&&c!==!0&&u[0]===0,animated:v}),yield this.sheetTransition,this.sheetTransition=void 0)})}getCurrentBreakpoint(){return O(this,null,function*(){return this.currentBreakpoint})}moveToNextBreakpoint(){return O(this,null,function*(){let{breakpoints:t,currentBreakpoint:i}=this;if(!t||i==null)return!1;let s=t.filter(I=>I!==0),u=(s.indexOf(i)+1)%s.length,v=s[u];return yield this.setCurrentBreakpoint(v),!0})}render(){let{handle:t,isSheetModal:i,presentingElement:s,htmlAttributes:c,handleBehavior:u,inheritedAttributes:v,focusTrap:I,expandToScroll:w}=this,T=t!==!1&&i,S=ue(this),P=s!==void 0&&S==="ios",D=u==="cycle";return Q(Me,Object.assign({key:"0bcbdcfcd7d890eb599da3f97f21c317d34f8e0e","no-router":!0,tabindex:"-1"},c,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[S]:!0,"modal-default":!P&&!i,"modal-card":P,"modal-sheet":i,"modal-no-expand-scroll":i&&!w,"overlay-hidden":!0,[ot]:I===!1},sn(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),Q("ion-backdrop",{key:"d72159e73daa5af7349aa9e8f695aa435eb43069",ref:k=>this.backdropEl=k,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),S==="ios"&&Q("div",{key:"fd2d9b13676ae72473881649a397b6eacde03a03",class:"modal-shadow"}),Q("div",Object.assign({key:"908eccb1ad982dcde2dbcff0cbb18b6e60f8ba74",role:"dialog"},v,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:k=>this.wrapperEl=k}),T&&Q("button",{key:"332dc0b40363a77c7be62331d9f26def91c790e9",class:"modal-handle",tabIndex:D?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:D?this.onHandleClick:void 0,part:"handle"}),Q("slot",{key:"c32698350193c450327e97049daf8b8d1fda0d0e"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:hc,md:fc}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16,"enter-animation"],leaveAnimation:[16,"leave-animation"],breakpoints:[16],expandToScroll:[4,"expand-to-scroll"],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16,"component-props"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16,"presenting-element"],htmlAttributes:[16,"html-attributes"],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),mc={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};function ms(){if(typeof customElements>"u")return;["ion-modal","ion-backdrop"].forEach(t=>{switch(t){case"ion-modal":customElements.get(t)||customElements.define(t,fs);break;case"ion-backdrop":customElements.get(t)||gn();break}})}var ps=ms;var pc=o=>{if(!o)return{arrowWidth:0,arrowHeight:0};let{width:t,height:i}=o.getBoundingClientRect();return{arrowWidth:t,arrowHeight:i}},ys=(o,t,i)=>{let s=t.getBoundingClientRect(),c=s.height,u=s.width;return o==="cover"&&i&&(u=i.getBoundingClientRect().width),{contentWidth:u,contentHeight:c}},gc=(o,t,i,s)=>{let c=[],v=Y(s).querySelector(".popover-content");switch(t){case"hover":c=[{eventName:"mouseenter",callback:I=>{document.elementFromPoint(I.clientX,I.clientY)!==o&&i.dismiss(void 0,void 0,!1)}}];break;case"context-menu":case"click":default:c=[{eventName:"click",callback:I=>{if(I.target.closest("[data-ion-popover-trigger]")===o){I.stopPropagation();return}i.dismiss(void 0,void 0,!1)}}];break}return c.forEach(({eventName:I,callback:w})=>v.addEventListener(I,w)),()=>{c.forEach(({eventName:I,callback:w})=>v.removeEventListener(I,w))}},yc=(o,t,i)=>{let s=[];switch(t){case"hover":let c;s=[{eventName:"mouseenter",callback:u=>O(null,null,function*(){u.stopPropagation(),c&&clearTimeout(c),c=setTimeout(()=>{De(()=>{i.presentFromTrigger(u),c=void 0})},100)})},{eventName:"mouseleave",callback:u=>{c&&clearTimeout(c);let v=u.relatedTarget;v&&v.closest("ion-popover")!==i&&i.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:u=>u.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:u=>i.presentFromTrigger(u,!0)}];break;case"context-menu":s=[{eventName:"contextmenu",callback:u=>{u.preventDefault(),i.presentFromTrigger(u)}},{eventName:"click",callback:u=>u.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:u=>i.presentFromTrigger(u,!0)}];break;case"click":default:s=[{eventName:"click",callback:u=>i.presentFromTrigger(u)},{eventName:"ionPopoverActivateTrigger",callback:u=>i.presentFromTrigger(u,!0)}];break}return s.forEach(({eventName:c,callback:u})=>o.addEventListener(c,u)),o.setAttribute("data-ion-popover-trigger","true"),()=>{s.forEach(({eventName:c,callback:u})=>o.removeEventListener(c,u)),o.removeAttribute("data-ion-popover-trigger")}},vs=(o,t)=>!t||t.tagName!=="ION-ITEM"?-1:o.findIndex(i=>i===t),vc=(o,t)=>{let i=vs(o,t);return o[i+1]},Ic=(o,t)=>{let i=vs(o,t);return o[i-1]},vn=o=>{let i=Y(o).querySelector("button");i&&De(()=>i.focus())},_c=o=>o.hasAttribute("data-ion-popover-trigger"),wc=o=>{let t=i=>O(null,null,function*(){var s;let c=document.activeElement,u=[],v=(s=i.target)===null||s===void 0?void 0:s.tagName;if(!(v!=="ION-POPOVER"&&v!=="ION-ITEM")){try{u=Array.from(o.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch{}switch(i.key){case"ArrowLeft":(yield o.getParentPopover())&&o.dismiss(void 0,void 0,!1);break;case"ArrowDown":i.preventDefault();let w=vc(u,c);w!==void 0&&vn(w);break;case"ArrowUp":i.preventDefault();let T=Ic(u,c);T!==void 0&&vn(T);break;case"Home":i.preventDefault();let S=u[0];S!==void 0&&vn(S);break;case"End":i.preventDefault();let P=u[u.length-1];P!==void 0&&vn(P);break;case"ArrowRight":case" ":case"Enter":if(c&&_c(c)){let D=new CustomEvent("ionPopoverActivateTrigger");c.dispatchEvent(D)}break}}});return o.addEventListener("keydown",t),()=>o.removeEventListener("keydown",t)},Is=(o,t,i,s,c,u,v,I,w,T,S)=>{var P;let D={top:0,left:0,width:0,height:0};switch(u){case"event":if(!S)return w;let q=S;D={top:q.clientY,left:q.clientX,width:1,height:1};break;case"trigger":default:let R=S,p=T||((P=R?.detail)===null||P===void 0?void 0:P.ionShadowTarget)||R?.target;if(!p)return w;let l=p.getBoundingClientRect();D={top:l.top,left:l.left,width:l.width,height:l.height};break}let k=bc(v,D,t,i,s,c,o),C=Cc(I,v,D,t,i),V=k.top+C.top,b=k.left+C.left,{arrowTop:j,arrowLeft:B}=Tc(v,s,c,V,b,t,i,o),{originX:N,originY:A}=Ec(v,I,o);return{top:V,left:b,referenceCoordinates:D,arrowTop:j,arrowLeft:B,originX:N,originY:A}},Ec=(o,t,i)=>{switch(o){case"top":return{originX:gs(t),originY:"bottom"};case"bottom":return{originX:gs(t),originY:"top"};case"left":return{originX:"right",originY:In(t)};case"right":return{originX:"left",originY:In(t)};case"start":return{originX:i?"left":"right",originY:In(t)};case"end":return{originX:i?"right":"left",originY:In(t)}}},gs=o=>{switch(o){case"start":return"left";case"center":return"center";case"end":return"right"}},In=o=>{switch(o){case"start":return"top";case"center":return"center";case"end":return"bottom"}},Tc=(o,t,i,s,c,u,v,I)=>{let w={arrowTop:s+v/2-t/2,arrowLeft:c+u-t/2},T={arrowTop:s+v/2-t/2,arrowLeft:c-t*1.5};switch(o){case"top":return{arrowTop:s+v,arrowLeft:c+u/2-t/2};case"bottom":return{arrowTop:s-i,arrowLeft:c+u/2-t/2};case"left":return w;case"right":return T;case"start":return I?T:w;case"end":return I?w:T;default:return{arrowTop:0,arrowLeft:0}}},bc=(o,t,i,s,c,u,v)=>{let I={top:t.top,left:t.left-i-c},w={top:t.top,left:t.left+t.width+c};switch(o){case"top":return{top:t.top-s-u,left:t.left};case"right":return w;case"bottom":return{top:t.top+t.height+u,left:t.left};case"left":return I;case"start":return v?w:I;case"end":return v?I:w}},Cc=(o,t,i,s,c)=>{switch(o){case"center":return Dc(t,i,s,c);case"end":return Ac(t,i,s,c);case"start":default:return{top:0,left:0}}},Ac=(o,t,i,s)=>{switch(o){case"start":case"end":case"left":case"right":return{top:-(s-t.height),left:0};case"top":case"bottom":default:return{top:0,left:-(i-t.width)}}},Dc=(o,t,i,s)=>{switch(o){case"start":case"end":case"left":case"right":return{top:-(s/2-t.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(i/2-t.width/2)}}},_s=(o,t,i,s,c,u,v,I,w,T,S,P,D=0,k=0,C=0)=>{let V=D,b=k,j=i,B=t,N,A=T,q=S,R=!1,p=!1,l=P?P.top+P.height:u/2-I/2,d=P?P.height:0,f=!1;return j<s+w?(j=s,R=!0,A="left"):v+s+j+w>c&&(p=!0,j=c-v-s,A="right"),l+d+I>u&&(o==="top"||o==="bottom")&&(l-I>0?(B=Math.max(12,l-I-d-(C-1)),V=B+I,q="bottom",f=!0):N=s),{top:B,left:j,bottom:N,originX:A,originY:q,checkSafeAreaLeft:R,checkSafeAreaRight:p,arrowTop:V,arrowLeft:b,addPopoverBottomClass:f}},xc=(o,t=!1,i,s)=>!(!i&&!s||o!=="top"&&o!=="bottom"&&t),Sc=5,Rc=(o,t)=>{var i;let{event:s,size:c,trigger:u,reference:v,side:I,align:w}=t,T=o.ownerDocument,S=T.dir==="rtl",P=T.defaultView.innerWidth,D=T.defaultView.innerHeight,k=Y(o),C=k.querySelector(".popover-content"),V=k.querySelector(".popover-arrow"),b=u||((i=s?.detail)===null||i===void 0?void 0:i.ionShadowTarget)||s?.target,{contentWidth:j,contentHeight:B}=ys(c,C,b),{arrowWidth:N,arrowHeight:A}=pc(V),q={top:D/2-B/2,left:P/2-j/2,originX:S?"right":"left",originY:"top"},R=Is(S,j,B,N,A,v,I,w,q,u,s),p=c==="cover"?0:Sc,l=c==="cover"?0:25,{originX:d,originY:f,top:m,left:g,bottom:h,checkSafeAreaLeft:X,checkSafeAreaRight:de,arrowTop:ht,arrowLeft:Ee,addPopoverBottomClass:Te}=_s(I,R.top,R.left,p,P,D,j,B,l,R.originX,R.originY,R.referenceCoordinates,R.arrowTop,R.arrowLeft,A),Le=M(),Re=M(),be=M();return Re.addElement(k.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),be.addElement(k.querySelector(".popover-arrow")).addElement(k.querySelector(".popover-content")).fromTo("opacity",.01,1),Le.easing("ease").duration(100).beforeAddWrite(()=>{c==="cover"&&o.style.setProperty("--width",`${j}px`),Te&&o.classList.add("popover-bottom"),h!==void 0&&C.style.setProperty("bottom",`${h}px`);let F=" + var(--ion-safe-area-left, 0)",x=" - var(--ion-safe-area-right, 0)",K=`${g}px`;if(X&&(K=`${g}px${F}`),de&&(K=`${g}px${x}`),C.style.setProperty("top",`calc(${m}px + var(--offset-y, 0))`),C.style.setProperty("left",`calc(${K} + var(--offset-x, 0))`),C.style.setProperty("transform-origin",`${f} ${d}`),V!==null){let H=R.top!==m||R.left!==g;xc(I,H,s,u)?(V.style.setProperty("top",`calc(${ht}px + var(--offset-y, 0))`),V.style.setProperty("left",`calc(${Ee}px + var(--offset-x, 0))`)):V.style.setProperty("display","none")}}).addAnimation([Re,be])},Pc=o=>{let t=Y(o),i=t.querySelector(".popover-content"),s=t.querySelector(".popover-arrow"),c=M(),u=M(),v=M();return u.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),v.addElement(t.querySelector(".popover-arrow")).addElement(t.querySelector(".popover-content")).fromTo("opacity",.99,0),c.easing("ease").afterAddWrite(()=>{o.style.removeProperty("--width"),o.classList.remove("popover-bottom"),i.style.removeProperty("top"),i.style.removeProperty("left"),i.style.removeProperty("bottom"),i.style.removeProperty("transform-origin"),s&&(s.style.removeProperty("top"),s.style.removeProperty("left"),s.style.removeProperty("display"))}).duration(300).addAnimation([u,v])},kc=12,Vc=(o,t)=>{var i;let{event:s,size:c,trigger:u,reference:v,side:I,align:w}=t,T=o.ownerDocument,S=T.dir==="rtl",P=T.defaultView.innerWidth,D=T.defaultView.innerHeight,k=Y(o),C=k.querySelector(".popover-content"),V=u||((i=s?.detail)===null||i===void 0?void 0:i.ionShadowTarget)||s?.target,{contentWidth:b,contentHeight:j}=ys(c,C,V),B={top:D/2-j/2,left:P/2-b/2,originX:S?"right":"left",originY:"top"},N=Is(S,b,j,0,0,v,I,w,B,u,s),A=c==="cover"?0:kc,{originX:q,originY:R,top:p,left:l,bottom:d}=_s(I,N.top,N.left,A,P,D,b,j,0,N.originX,N.originY,N.referenceCoordinates),f=M(),m=M(),g=M(),h=M(),X=M();return m.addElement(k.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),g.addElement(k.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),h.addElement(C).beforeStyles({top:`calc(${p}px + var(--offset-y, 0px))`,left:`calc(${l}px + var(--offset-x, 0px))`,"transform-origin":`${R} ${q}`}).beforeAddWrite(()=>{d!==void 0&&C.style.setProperty("bottom",`${d}px`)}).fromTo("transform","scale(0.8)","scale(1)"),X.addElement(k.querySelector(".popover-viewport")).fromTo("opacity",.01,1),f.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{c==="cover"&&o.style.setProperty("--width",`${b}px`),R==="bottom"&&o.classList.add("popover-bottom")}).addAnimation([m,g,h,X])},Nc=o=>{let t=Y(o),i=t.querySelector(".popover-content"),s=M(),c=M(),u=M();return c.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),u.addElement(t.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),s.easing("ease").afterAddWrite(()=>{o.style.removeProperty("--width"),o.classList.remove("popover-bottom"),i.style.removeProperty("top"),i.style.removeProperty("left"),i.style.removeProperty("bottom"),i.style.removeProperty("transform-origin")}).duration(150).addAnimation([c,u])},Mc=':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',Fc=":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}",ws=Ie(class extends ve{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=U(this,"ionPopoverDidPresent",7),this.willPresent=U(this,"ionPopoverWillPresent",7),this.willDismiss=U(this,"ionPopoverWillDismiss",7),this.didDismiss=U(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=U(this,"didPresent",7),this.willPresentShorthand=U(this,"willPresent",7),this.willDismissShorthand=U(this,"willDismiss",7),this.didDismissShorthand=U(this,"didDismiss",7),this.ionMount=U(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=an(),this.lockController=at(),this.inline=!1,this.focusDescendantOnPresent=!1,this.presented=!1,this.hasController=!1,this.keyboardClose=!0,this.backdropDismiss=!0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.triggerAction="click",this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1,this.onBackdropTap=()=>{this.dismiss(void 0,hn)},this.onLifecycle=t=>{let i=this.usersElement,s=Oc[t.type];if(i&&s){let c=new CustomEvent(s,{bubbles:!1,cancelable:!1,detail:t.detail});i.dispatchEvent(c)}},this.configureTriggerInteraction=()=>{let{trigger:t,triggerAction:i,el:s,destroyTriggerInteraction:c}=this;if(c&&c(),t===void 0)return;let u=this.triggerEl=t!==void 0?document.getElementById(t):null;if(!u){Fe(`[ion-popover] - A trigger element with the ID "${t}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.`,this.el);return}this.destroyTriggerInteraction=yc(u,i,s)},this.configureKeyboardInteraction=()=>{let{destroyKeyboardInteraction:t,el:i}=this;t&&t(),this.destroyKeyboardInteraction=wc(i)},this.configureDismissInteraction=()=>{let{destroyDismissInteraction:t,parentPopover:i,triggerAction:s,triggerEl:c,el:u}=this;!i||!c||(t&&t(),this.destroyDismissInteraction=gc(c,s,u,i))}}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(t,i){t===!0&&i===!1?this.present():t===!1&&i===!0&&this.dismiss()}connectedCallback(){let{configureTriggerInteraction:t,el:i}=this;cn(i),t()}disconnectedCallback(){let{destroyTriggerInteraction:t}=this;t&&t()}componentWillLoad(){var t,i;let{el:s}=this,c=(i=(t=this.htmlAttributes)===null||t===void 0?void 0:t.id)!==null&&i!==void 0?i:ln(s);this.parentPopover=s.closest(`ion-popover:not(#${c})`),this.alignment===void 0&&(this.alignment=ue(this)==="ios"?"center":"start")}componentDidLoad(){let{parentPopover:t,isOpen:i}=this;i===!0&&De(()=>this.present()),t&&fo(t,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}presentFromTrigger(t,i=!1){return O(this,null,function*(){this.focusDescendantOnPresent=i,yield this.present(t),this.focusDescendantOnPresent=!1})}getDelegate(t=!1){if(this.workingDelegate&&!t)return{delegate:this.workingDelegate,inline:this.inline};let i=this.el.parentNode,s=this.inline=i!==null&&!this.hasController,c=this.workingDelegate=s?this.delegate||this.coreDelegate:this.delegate;return{inline:s,delegate:c}}present(t){return O(this,null,function*(){let i=yield this.lockController.lock();if(this.presented){i();return}let{el:s}=this,{inline:c,delegate:u}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=yield nt(u,s,this.component,["popover-viewport"],this.componentProps,c),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),tt(s)?yield rn(this.usersElement):this.keepContentsMounted||(yield nn()),yield un(this,"popoverEnter",Rc,Vc,{event:t||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),this.focusDescendantOnPresent&&yo(s),i()})}dismiss(t,i,s=!0){return O(this,null,function*(){let c=yield this.lockController.lock(),{destroyKeyboardInteraction:u,destroyDismissInteraction:v}=this;s&&this.parentPopover&&this.parentPopover.dismiss(t,i,s);let I=yield dn(this,t,i,"popoverLeave",Pc,Nc,this.event);if(I){u&&(u(),this.destroyKeyboardInteraction=void 0),v&&(v(),this.destroyDismissInteraction=void 0);let{delegate:w}=this.getDelegate();yield it(w,this.usersElement)}return c(),I})}getParentPopover(){return O(this,null,function*(){return this.parentPopover})}onDidDismiss(){return rt(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return rt(this.el,"ionPopoverWillDismiss")}render(){let t=ue(this),{onLifecycle:i,parentPopover:s,dismissOnSelect:c,side:u,arrow:v,htmlAttributes:I,focusTrap:w}=this,T=xe("desktop"),S=v&&!s;return Q(Me,Object.assign({key:"1de4862099cfcb5035e78008e6dc7c1371846f9a","aria-modal":"true","no-router":!0,tabindex:"-1"},I,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({},sn(this.cssClass)),{[t]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":T,[`popover-side-${u}`]:!0,[ot]:w===!1,"popover-nested":!!s}),onIonPopoverDidPresent:i,onIonPopoverWillPresent:i,onIonPopoverWillDismiss:i,onIonPopoverDidDismiss:i,onIonBackdropTap:this.onBackdropTap}),!s&&Q("ion-backdrop",{key:"981aa4e0102cb93312ffbd8243cdf2a0cdc60469",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),Q("div",{key:"1a28ed55e9d34ef78cf0eb0178643301fd2dd75d",class:"popover-wrapper ion-overlay-wrapper",onClick:c?()=>this.dismiss():void 0},S&&Q("div",{key:"1c206ea5eb3c0b5883a3d45c34cd22dd5ffe4b65",class:"popover-arrow",part:"arrow"}),Q("div",{key:"5ba561486a328c0c7ab825995fdbfb7a196429a4",class:"popover-content",part:"content"},Q("slot",{key:"00fc244ce9dcc2dfc677e6c34b7c8e7a330b2b03"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:Mc,md:Fc}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16,"enter-animation"],leaveAnimation:[16,"leave-animation"],component:[1],componentProps:[16,"component-props"],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16,"html-attributes"],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),Oc={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};function Es(){if(typeof customElements>"u")return;["ion-popover","ion-backdrop"].forEach(t=>{switch(t){case"ion-popover":customElements.get(t)||customElements.define(t,ws);break;case"ion-backdrop":customElements.get(t)||gn();break}})}var Ts=Es;var jc="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",Lc=Ie(class extends ve{constructor(){super(),this.__registerHost()}componentDidLoad(){lo.isBrowser&&zc(()=>O(this,null,function*(){let t=xe(window,"hybrid");if(le.getBoolean("_testing")||import("./chunk-SWIKJVXG.js").then(c=>c.startTapClick(le)),le.getBoolean("statusTap",t)&&import("./chunk-5UUHCW2G.js").then(c=>c.startStatusTap()),le.getBoolean("inputShims",Bc())){let c=xe(window,"ios")?"ios":"android";import("./chunk-3LTQIZOR.js").then(u=>u.startInputShims(le,c))}let i=yield import("./chunk-ZGUXYWMS.js"),s=t||di();le.getBoolean("hardwareBackButton",s)?i.startHardwareBackButton():(di()&&Fe("[ion-app] - experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),i.blockHardwareBackButton()),typeof window<"u"&&import("./chunk-UYOKND6Q.js").then(c=>c.startKeyboardAssist(window)),import("./chunk-XV247VAB.js").then(c=>this.focusVisible=c.startFocusVisible())}))}setFocus(t){return O(this,null,function*(){this.focusVisible&&this.focusVisible.setFocus(t)})}render(){let t=ue(this);return Q(Me,{key:"03aa892f986330078d112b1e8b010df98fa7e39e",class:{[t]:!0,"ion-page":!0,"force-statusbar-padding":le.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return jc}},[0,"ion-app",{setFocus:[64]}]),Bc=()=>!!(xe(window,"ios")&&xe(window,"mobile")||xe(window,"android")&&xe(window,"mobileweb")),zc=o=>{"requestIdleCallback"in window?window.requestIdleCallback(o):setTimeout(o,32)};function qc(){if(typeof customElements>"u")return;["ion-app"].forEach(t=>{switch(t){case"ion-app":customElements.get(t)||customElements.define(t,Lc);break}})}var bs=qc;var Gc=["outletContent"],Cs=["*"];var As=(()=>{let o=class _n extends To{parentOutlet;outletContent;constructor(i,s,c,u,v,I,w,T){super(i,s,c,u,v,I,w,T),this.parentOutlet=T}static \u0275fac=function(s){return new(s||_n)(ri("name"),ri("tabs"),ye(eo),ye(oi),ye(oo),ye(Rt),ye(io),ye(_n,12))};static \u0275cmp=St({type:_n,selectors:[["ion-router-outlet"]],viewQuery:function(s,c){if(s&1&&Yr(Gc,7,Ur),s&2){let u;Xr(u=Zr())&&(c.outletContent=u.first)}},features:[Gr],ngContentSelectors:Cs,decls:3,vars:0,consts:[["outletContent",""]],template:function(s,c){s&1&&(ci(),Wr(0,null,0),li(2),Qr())},encapsulation:2})};return o=ii([Eo({defineCustomElementFn:os})],o),o})();var Kc=(o,t)=>{let i=o.prototype;t.forEach(s=>{Object.defineProperty(i,s,{get(){return this.el[s]},set(c){this.z.runOutsideAngular(()=>this.el[s]=c)},configurable:!0})})},Hc=(o,t)=>{let i=o.prototype;t.forEach(s=>{i[s]=function(){let c=arguments;return this.z.runOutsideAngular(()=>this.el[s].apply(this.el,c))}})};function Wc(o){return function(i){let{defineCustomElementFn:s,inputs:c,methods:u}=o;return s!==void 0&&s(),c&&Kc(i,c),u&&Hc(i,u),i}}var Ds=(()=>{let o=class wi{z;el;constructor(i,s,c){this.z=c,i.detach(),this.el=s.nativeElement}static \u0275fac=function(s){return new(s||wi)(ye(Jr),ye(oi),ye(Rt))};static \u0275cmp=St({type:wi,selectors:[["ion-app"]],ngContentSelectors:Cs,decls:1,vars:0,template:function(s,c){s&1&&(ci(),li(0))},encapsulation:2,changeDetection:0})};return o=ii([Wc({defineCustomElementFn:bs,methods:["setFocus"]})],o),o})();var Qc=(()=>{class o extends mi{angularDelegate=Ge(fn);injector=Ge(et);environmentInjector=Ge(tn);constructor(){super(vo),ps()}create(i){return super.create(ni(ti({},i),{delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")}))}static \u0275fac=function(s){return new(s||o)};static \u0275prov=zr({token:o,factory:o.\u0275fac})}return o})(),Ei=class extends mi{angularDelegate=Ge(fn);injector=Ge(et);environmentInjector=Ge(tn);constructor(){super(Io),Ts()}create(t){return super.create(ni(ti({},t),{delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")}))}},xs=(o={})=>en([{provide:hi,useValue:o},{provide:Kr,useFactory:Yc,multi:!0,deps:[hi,$r]},bo(),fn,Qc,Ei]),Yc=(o,t)=>()=>{t.documentElement.classList.add("ion-ce"),go(o)};var Ss=[{path:"home",loadComponent:()=>import("./chunk-7GGCKDAR.js").then(o=>o.HomePage)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"register",loadComponent:()=>import("./chunk-V4FBXKE2.js").then(o=>o.RegisterPage)},{path:"login",loadComponent:()=>import("./chunk-HBEKGZT7.js").then(o=>o.LoginPage)},{path:"poi/:id",loadComponent:()=>import("./chunk-AYNOZNM4.js").then(o=>o.DetailPage)},{path:"add-poi",loadComponent:()=>import("./chunk-UGWD27JB.js").then(o=>o.AddPoiPage)},{path:"search-poi",loadComponent:()=>import("./chunk-Q4NPVXXM.js").then(o=>o.SearchPoiPage)},{path:"edit-poi/:id",loadComponent:()=>import("./chunk-GR4MNVWL.js").then(o=>o.EditPoiPage)},{path:"generate-route",loadComponent:()=>import("./chunk-KUR6ETM7.js").then(o=>o.GenerateRoutePage)},{path:"user-pois",loadComponent:()=>import("./chunk-7YBVJW3S.js").then(o=>o.UserPoisPage)}];var Rs=(()=>{class o{constructor(){}static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275cmp=St({type:o,selectors:[["app-root"]],decls:2,vars:0,template:function(s,c){s&1&&(si(0,"ion-app"),Hr(1,"ion-router-outlet"),ai())},dependencies:[Ds,As],encapsulation:2})}}return o})();var Ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ks={};var wn,Vs;(function(){var o;function t(p,l){function d(){}d.prototype=l.prototype,p.D=l.prototype,p.prototype=new d,p.prototype.constructor=p,p.C=function(f,m,g){for(var h=Array(arguments.length-2),X=2;X<arguments.length;X++)h[X-2]=arguments[X];return l.prototype[m].apply(f,h)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(p,l,d){d||(d=0);var f=Array(16);if(typeof l=="string")for(var m=0;16>m;++m)f[m]=l.charCodeAt(d++)|l.charCodeAt(d++)<<8|l.charCodeAt(d++)<<16|l.charCodeAt(d++)<<24;else for(m=0;16>m;++m)f[m]=l[d++]|l[d++]<<8|l[d++]<<16|l[d++]<<24;l=p.g[0],d=p.g[1],m=p.g[2];var g=p.g[3],h=l+(g^d&(m^g))+f[0]+3614090360&4294967295;l=d+(h<<7&4294967295|h>>>25),h=g+(m^l&(d^m))+f[1]+3905402710&4294967295,g=l+(h<<12&4294967295|h>>>20),h=m+(d^g&(l^d))+f[2]+606105819&4294967295,m=g+(h<<17&4294967295|h>>>15),h=d+(l^m&(g^l))+f[3]+3250441966&4294967295,d=m+(h<<22&4294967295|h>>>10),h=l+(g^d&(m^g))+f[4]+4118548399&4294967295,l=d+(h<<7&4294967295|h>>>25),h=g+(m^l&(d^m))+f[5]+1200080426&4294967295,g=l+(h<<12&4294967295|h>>>20),h=m+(d^g&(l^d))+f[6]+2821735955&4294967295,m=g+(h<<17&4294967295|h>>>15),h=d+(l^m&(g^l))+f[7]+4249261313&4294967295,d=m+(h<<22&4294967295|h>>>10),h=l+(g^d&(m^g))+f[8]+1770035416&4294967295,l=d+(h<<7&4294967295|h>>>25),h=g+(m^l&(d^m))+f[9]+2336552879&4294967295,g=l+(h<<12&4294967295|h>>>20),h=m+(d^g&(l^d))+f[10]+4294925233&4294967295,m=g+(h<<17&4294967295|h>>>15),h=d+(l^m&(g^l))+f[11]+2304563134&4294967295,d=m+(h<<22&4294967295|h>>>10),h=l+(g^d&(m^g))+f[12]+1804603682&4294967295,l=d+(h<<7&4294967295|h>>>25),h=g+(m^l&(d^m))+f[13]+4254626195&4294967295,g=l+(h<<12&4294967295|h>>>20),h=m+(d^g&(l^d))+f[14]+2792965006&4294967295,m=g+(h<<17&4294967295|h>>>15),h=d+(l^m&(g^l))+f[15]+1236535329&4294967295,d=m+(h<<22&4294967295|h>>>10),h=l+(m^g&(d^m))+f[1]+4129170786&4294967295,l=d+(h<<5&4294967295|h>>>27),h=g+(d^m&(l^d))+f[6]+3225465664&4294967295,g=l+(h<<9&4294967295|h>>>23),h=m+(l^d&(g^l))+f[11]+643717713&4294967295,m=g+(h<<14&4294967295|h>>>18),h=d+(g^l&(m^g))+f[0]+3921069994&4294967295,d=m+(h<<20&4294967295|h>>>12),h=l+(m^g&(d^m))+f[5]+3593408605&4294967295,l=d+(h<<5&4294967295|h>>>27),h=g+(d^m&(l^d))+f[10]+38016083&4294967295,g=l+(h<<9&4294967295|h>>>23),h=m+(l^d&(g^l))+f[15]+3634488961&4294967295,m=g+(h<<14&4294967295|h>>>18),h=d+(g^l&(m^g))+f[4]+3889429448&4294967295,d=m+(h<<20&4294967295|h>>>12),h=l+(m^g&(d^m))+f[9]+568446438&4294967295,l=d+(h<<5&4294967295|h>>>27),h=g+(d^m&(l^d))+f[14]+3275163606&4294967295,g=l+(h<<9&4294967295|h>>>23),h=m+(l^d&(g^l))+f[3]+4107603335&4294967295,m=g+(h<<14&4294967295|h>>>18),h=d+(g^l&(m^g))+f[8]+1163531501&4294967295,d=m+(h<<20&4294967295|h>>>12),h=l+(m^g&(d^m))+f[13]+2850285829&4294967295,l=d+(h<<5&4294967295|h>>>27),h=g+(d^m&(l^d))+f[2]+4243563512&4294967295,g=l+(h<<9&4294967295|h>>>23),h=m+(l^d&(g^l))+f[7]+1735328473&4294967295,m=g+(h<<14&4294967295|h>>>18),h=d+(g^l&(m^g))+f[12]+2368359562&4294967295,d=m+(h<<20&4294967295|h>>>12),h=l+(d^m^g)+f[5]+4294588738&4294967295,l=d+(h<<4&4294967295|h>>>28),h=g+(l^d^m)+f[8]+2272392833&4294967295,g=l+(h<<11&4294967295|h>>>21),h=m+(g^l^d)+f[11]+1839030562&4294967295,m=g+(h<<16&4294967295|h>>>16),h=d+(m^g^l)+f[14]+4259657740&4294967295,d=m+(h<<23&4294967295|h>>>9),h=l+(d^m^g)+f[1]+2763975236&4294967295,l=d+(h<<4&4294967295|h>>>28),h=g+(l^d^m)+f[4]+1272893353&4294967295,g=l+(h<<11&4294967295|h>>>21),h=m+(g^l^d)+f[7]+4139469664&4294967295,m=g+(h<<16&4294967295|h>>>16),h=d+(m^g^l)+f[10]+3200236656&4294967295,d=m+(h<<23&4294967295|h>>>9),h=l+(d^m^g)+f[13]+681279174&4294967295,l=d+(h<<4&4294967295|h>>>28),h=g+(l^d^m)+f[0]+3936430074&4294967295,g=l+(h<<11&4294967295|h>>>21),h=m+(g^l^d)+f[3]+3572445317&4294967295,m=g+(h<<16&4294967295|h>>>16),h=d+(m^g^l)+f[6]+76029189&4294967295,d=m+(h<<23&4294967295|h>>>9),h=l+(d^m^g)+f[9]+3654602809&4294967295,l=d+(h<<4&4294967295|h>>>28),h=g+(l^d^m)+f[12]+3873151461&4294967295,g=l+(h<<11&4294967295|h>>>21),h=m+(g^l^d)+f[15]+530742520&4294967295,m=g+(h<<16&4294967295|h>>>16),h=d+(m^g^l)+f[2]+3299628645&4294967295,d=m+(h<<23&4294967295|h>>>9),h=l+(m^(d|~g))+f[0]+4096336452&4294967295,l=d+(h<<6&4294967295|h>>>26),h=g+(d^(l|~m))+f[7]+1126891415&4294967295,g=l+(h<<10&4294967295|h>>>22),h=m+(l^(g|~d))+f[14]+2878612391&4294967295,m=g+(h<<15&4294967295|h>>>17),h=d+(g^(m|~l))+f[5]+4237533241&4294967295,d=m+(h<<21&4294967295|h>>>11),h=l+(m^(d|~g))+f[12]+1700485571&4294967295,l=d+(h<<6&4294967295|h>>>26),h=g+(d^(l|~m))+f[3]+2399980690&4294967295,g=l+(h<<10&4294967295|h>>>22),h=m+(l^(g|~d))+f[10]+4293915773&4294967295,m=g+(h<<15&4294967295|h>>>17),h=d+(g^(m|~l))+f[1]+2240044497&4294967295,d=m+(h<<21&4294967295|h>>>11),h=l+(m^(d|~g))+f[8]+1873313359&4294967295,l=d+(h<<6&4294967295|h>>>26),h=g+(d^(l|~m))+f[15]+4264355552&4294967295,g=l+(h<<10&4294967295|h>>>22),h=m+(l^(g|~d))+f[6]+2734768916&4294967295,m=g+(h<<15&4294967295|h>>>17),h=d+(g^(m|~l))+f[13]+1309151649&4294967295,d=m+(h<<21&4294967295|h>>>11),h=l+(m^(d|~g))+f[4]+4149444226&4294967295,l=d+(h<<6&4294967295|h>>>26),h=g+(d^(l|~m))+f[11]+3174756917&4294967295,g=l+(h<<10&4294967295|h>>>22),h=m+(l^(g|~d))+f[2]+718787259&4294967295,m=g+(h<<15&4294967295|h>>>17),h=d+(g^(m|~l))+f[9]+3951481745&4294967295,p.g[0]=p.g[0]+l&4294967295,p.g[1]=p.g[1]+(m+(h<<21&4294967295|h>>>11))&4294967295,p.g[2]=p.g[2]+m&4294967295,p.g[3]=p.g[3]+g&4294967295}s.prototype.u=function(p,l){l===void 0&&(l=p.length);for(var d=l-this.blockSize,f=this.B,m=this.h,g=0;g<l;){if(m==0)for(;g<=d;)c(this,p,g),g+=this.blockSize;if(typeof p=="string"){for(;g<l;)if(f[m++]=p.charCodeAt(g++),m==this.blockSize){c(this,f),m=0;break}}else for(;g<l;)if(f[m++]=p[g++],m==this.blockSize){c(this,f),m=0;break}}this.h=m,this.o+=l},s.prototype.v=function(){var p=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);p[0]=128;for(var l=1;l<p.length-8;++l)p[l]=0;var d=8*this.o;for(l=p.length-8;l<p.length;++l)p[l]=d&255,d/=256;for(this.u(p),p=Array(16),l=d=0;4>l;++l)for(var f=0;32>f;f+=8)p[d++]=this.g[l]>>>f&255;return p};function u(p,l){var d=I;return Object.prototype.hasOwnProperty.call(d,p)?d[p]:d[p]=l(p)}function v(p,l){this.h=l;for(var d=[],f=!0,m=p.length-1;0<=m;m--){var g=p[m]|0;f&&g==l||(d[m]=g,f=!1)}this.g=d}var I={};function w(p){return-128<=p&&128>p?u(p,function(l){return new v([l|0],0>l?-1:0)}):new v([p|0],0>p?-1:0)}function T(p){if(isNaN(p)||!isFinite(p))return P;if(0>p)return b(T(-p));for(var l=[],d=1,f=0;p>=d;f++)l[f]=p/d|0,d*=4294967296;return new v(l,0)}function S(p,l){if(p.length==0)throw Error("number format error: empty string");if(l=l||10,2>l||36<l)throw Error("radix out of range: "+l);if(p.charAt(0)=="-")return b(S(p.substring(1),l));if(0<=p.indexOf("-"))throw Error('number format error: interior "-" character');for(var d=T(Math.pow(l,8)),f=P,m=0;m<p.length;m+=8){var g=Math.min(8,p.length-m),h=parseInt(p.substring(m,m+g),l);8>g?(g=T(Math.pow(l,g)),f=f.j(g).add(T(h))):(f=f.j(d),f=f.add(T(h)))}return f}var P=w(0),D=w(1),k=w(16777216);o=v.prototype,o.m=function(){if(V(this))return-b(this).m();for(var p=0,l=1,d=0;d<this.g.length;d++){var f=this.i(d);p+=(0<=f?f:4294967296+f)*l,l*=4294967296}return p},o.toString=function(p){if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(C(this))return"0";if(V(this))return"-"+b(this).toString(p);for(var l=T(Math.pow(p,6)),d=this,f="";;){var m=A(d,l).g;d=j(d,m.j(l));var g=((0<d.g.length?d.g[0]:d.h)>>>0).toString(p);if(d=m,C(d))return g+f;for(;6>g.length;)g="0"+g;f=g+f}},o.i=function(p){return 0>p?0:p<this.g.length?this.g[p]:this.h};function C(p){if(p.h!=0)return!1;for(var l=0;l<p.g.length;l++)if(p.g[l]!=0)return!1;return!0}function V(p){return p.h==-1}o.l=function(p){return p=j(this,p),V(p)?-1:C(p)?0:1};function b(p){for(var l=p.g.length,d=[],f=0;f<l;f++)d[f]=~p.g[f];return new v(d,~p.h).add(D)}o.abs=function(){return V(this)?b(this):this},o.add=function(p){for(var l=Math.max(this.g.length,p.g.length),d=[],f=0,m=0;m<=l;m++){var g=f+(this.i(m)&65535)+(p.i(m)&65535),h=(g>>>16)+(this.i(m)>>>16)+(p.i(m)>>>16);f=h>>>16,g&=65535,h&=65535,d[m]=h<<16|g}return new v(d,d[d.length-1]&-2147483648?-1:0)};function j(p,l){return p.add(b(l))}o.j=function(p){if(C(this)||C(p))return P;if(V(this))return V(p)?b(this).j(b(p)):b(b(this).j(p));if(V(p))return b(this.j(b(p)));if(0>this.l(k)&&0>p.l(k))return T(this.m()*p.m());for(var l=this.g.length+p.g.length,d=[],f=0;f<2*l;f++)d[f]=0;for(f=0;f<this.g.length;f++)for(var m=0;m<p.g.length;m++){var g=this.i(f)>>>16,h=this.i(f)&65535,X=p.i(m)>>>16,de=p.i(m)&65535;d[2*f+2*m]+=h*de,B(d,2*f+2*m),d[2*f+2*m+1]+=g*de,B(d,2*f+2*m+1),d[2*f+2*m+1]+=h*X,B(d,2*f+2*m+1),d[2*f+2*m+2]+=g*X,B(d,2*f+2*m+2)}for(f=0;f<l;f++)d[f]=d[2*f+1]<<16|d[2*f];for(f=l;f<2*l;f++)d[f]=0;return new v(d,0)};function B(p,l){for(;(p[l]&65535)!=p[l];)p[l+1]+=p[l]>>>16,p[l]&=65535,l++}function N(p,l){this.g=p,this.h=l}function A(p,l){if(C(l))throw Error("division by zero");if(C(p))return new N(P,P);if(V(p))return l=A(b(p),l),new N(b(l.g),b(l.h));if(V(l))return l=A(p,b(l)),new N(b(l.g),l.h);if(30<p.g.length){if(V(p)||V(l))throw Error("slowDivide_ only works with positive integers.");for(var d=D,f=l;0>=f.l(p);)d=q(d),f=q(f);var m=R(d,1),g=R(f,1);for(f=R(f,2),d=R(d,2);!C(f);){var h=g.add(f);0>=h.l(p)&&(m=m.add(d),g=h),f=R(f,1),d=R(d,1)}return l=j(p,m.j(l)),new N(m,l)}for(m=P;0<=p.l(l);){for(d=Math.max(1,Math.floor(p.m()/l.m())),f=Math.ceil(Math.log(d)/Math.LN2),f=48>=f?1:Math.pow(2,f-48),g=T(d),h=g.j(l);V(h)||0<h.l(p);)d-=f,g=T(d),h=g.j(l);C(g)&&(g=D),m=m.add(g),p=j(p,h)}return new N(m,p)}o.A=function(p){return A(this,p).h},o.and=function(p){for(var l=Math.max(this.g.length,p.g.length),d=[],f=0;f<l;f++)d[f]=this.i(f)&p.i(f);return new v(d,this.h&p.h)},o.or=function(p){for(var l=Math.max(this.g.length,p.g.length),d=[],f=0;f<l;f++)d[f]=this.i(f)|p.i(f);return new v(d,this.h|p.h)},o.xor=function(p){for(var l=Math.max(this.g.length,p.g.length),d=[],f=0;f<l;f++)d[f]=this.i(f)^p.i(f);return new v(d,this.h^p.h)};function q(p){for(var l=p.g.length+1,d=[],f=0;f<l;f++)d[f]=p.i(f)<<1|p.i(f-1)>>>31;return new v(d,p.h)}function R(p,l){var d=l>>5;l%=32;for(var f=p.g.length-d,m=[],g=0;g<f;g++)m[g]=0<l?p.i(g+d)>>>l|p.i(g+d+1)<<32-l:p.i(g+d);return new v(m,p.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Vs=ks.Md5=s,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=T,v.fromString=S,wn=ks.Integer=v}).apply(typeof Ps<"u"?Ps:typeof self<"u"?self:typeof window<"u"?window:{});var En=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Se={};var Ns,Xc,Ms,Fs,Os,js,Ls,Bs,zs;(function(){var o,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,n,r){return e==Array.prototype||e==Object.prototype||(e[n]=r.value),e};function i(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof En=="object"&&En];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}var s=i(this);function c(e,n){if(n)e:{var r=s;e=e.split(".");for(var a=0;a<e.length-1;a++){var y=e[a];if(!(y in r))break e;r=r[y]}e=e[e.length-1],a=r[e],n=n(a),n!=a&&n!=null&&t(r,e,{configurable:!0,writable:!0,value:n})}}function u(e,n){e instanceof String&&(e+="");var r=0,a=!1,y={next:function(){if(!a&&r<e.length){var _=r++;return{value:n(_,e[_]),done:!1}}return a=!0,{done:!0,value:void 0}}};return y[Symbol.iterator]=function(){return y},y}c("Array.prototype.values",function(e){return e||function(){return u(this,function(n,r){return r})}});var v=v||{},I=this||self;function w(e){var n=typeof e;return n=n!="object"?n:e?Array.isArray(e)?"array":n:"null",n=="array"||n=="object"&&typeof e.length=="number"}function T(e){var n=typeof e;return n=="object"&&e!=null||n=="function"}function S(e,n,r){return e.call.apply(e.bind,arguments)}function P(e,n,r){if(!e)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,a),e.apply(n,y)}}return function(){return e.apply(n,arguments)}}function D(e,n,r){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:P,D.apply(null,arguments)}function k(e,n){var r=Array.prototype.slice.call(arguments,1);return function(){var a=r.slice();return a.push.apply(a,arguments),e.apply(this,a)}}function C(e,n){function r(){}r.prototype=n.prototype,e.aa=n.prototype,e.prototype=new r,e.prototype.constructor=e,e.Qb=function(a,y,_){for(var E=Array(arguments.length-2),$=2;$<arguments.length;$++)E[$-2]=arguments[$];return n.prototype[y].apply(a,E)}}function V(e){let n=e.length;if(0<n){let r=Array(n);for(let a=0;a<n;a++)r[a]=e[a];return r}return[]}function b(e,n){for(let r=1;r<arguments.length;r++){let a=arguments[r];if(w(a)){let y=e.length||0,_=a.length||0;e.length=y+_;for(let E=0;E<_;E++)e[y+E]=a[E]}else e.push(a)}}class j{constructor(n,r){this.i=n,this.j=r,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}function B(e){return/^[\s\xa0]*$/.test(e)}function N(){var e=I.navigator;return e&&(e=e.userAgent)?e:""}function A(e){return A[" "](e),e}A[" "]=function(){};var q=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function R(e,n,r){for(let a in e)n.call(r,e[a],a,e)}function p(e,n){for(let r in e)n.call(void 0,e[r],r,e)}function l(e){let n={};for(let r in e)n[r]=e[r];return n}let d="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f(e,n){let r,a;for(let y=1;y<arguments.length;y++){a=arguments[y];for(r in a)e[r]=a[r];for(let _=0;_<d.length;_++)r=d[_],Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}}function m(e){var n=1;e=e.split(":");let r=[];for(;0<n&&e.length;)r.push(e.shift()),n--;return e.length&&r.push(e.join(":")),r}function g(e){I.setTimeout(()=>{throw e},0)}function h(){var e=Le;let n=null;return e.g&&(n=e.g,e.g=e.g.next,e.g||(e.h=null),n.next=null),n}class X{constructor(){this.h=this.g=null}add(n,r){let a=de.get();a.set(n,r),this.h?this.h.next=a:this.g=a,this.h=a}}var de=new j(()=>new ht,e=>e.reset());class ht{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,Te=!1,Le=new X,Re=()=>{let e=I.Promise.resolve(void 0);Ee=()=>{e.then(be)}};var be=()=>{for(var e;e=h();){try{e.h.call(e.g)}catch(r){g(r)}var n=de;n.j(e),100>n.h&&(n.h++,e.next=n.g,n.g=e)}Te=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(e,n){this.type=e,this.g=this.target=n,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!I.addEventListener||!Object.defineProperty)return!1;var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let r=()=>{};I.addEventListener("test",r,n),I.removeEventListener("test",r,n)}catch{}return e}();function H(e,n){if(x.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,a=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=n,n=e.relatedTarget){if(q){e:{try{A(n.nodeName);var y=!0;break e}catch{}y=!1}y||(n=null)}}else r=="mouseover"?n=e.fromElement:r=="mouseout"&&(n=e.toElement);this.relatedTarget=n,a?(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:me[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&H.aa.h.call(this)}}C(H,x);var me={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),J=0;function Be(e,n,r,a,y){this.listener=e,this.proxy=null,this.src=n,this.type=r,this.capture=!!a,this.ha=y,this.key=++J,this.da=this.fa=!1}function Pe(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ft(e){this.src=e,this.g={},this.h=0}ft.prototype.add=function(e,n,r,a,y){var _=e.toString();e=this.g[_],e||(e=this.g[_]=[],this.h++);var E=kn(e,n,a,y);return-1<E?(n=e[E],r||(n.fa=!1)):(n=new Be(n,this.src,_,!!a,y),n.fa=r,e.push(n)),n};function Pn(e,n){var r=n.type;if(r in e.g){var a=e.g[r],y=Array.prototype.indexOf.call(a,n,void 0),_;(_=0<=y)&&Array.prototype.splice.call(a,y,1),_&&(Pe(n),e.g[r].length==0&&(delete e.g[r],e.h--))}}function kn(e,n,r,a){for(var y=0;y<e.length;++y){var _=e[y];if(!_.da&&_.listener==n&&_.capture==!!r&&_.ha==a)return y}return-1}var Vn="closure_lm_"+(1e6*Math.random()|0),Nn={};function zi(e,n,r,a,y){if(a&&a.once)return $i(e,n,r,a,y);if(Array.isArray(n)){for(var _=0;_<n.length;_++)zi(e,n[_],r,a,y);return null}return r=jn(r),e&&e[Z]?e.K(n,r,T(a)?!!a.capture:!!a,y):qi(e,n,r,!1,a,y)}function qi(e,n,r,a,y,_){if(!n)throw Error("Invalid event type");var E=T(y)?!!y.capture:!!y,$=Fn(e);if($||(e[Vn]=$=new ft(e)),r=$.add(n,r,a,E,_),r.proxy)return r;if(a=ba(),r.proxy=a,a.src=e,a.listener=r,e.addEventListener)K||(y=E),y===void 0&&(y=!1),e.addEventListener(n.toString(),a,y);else if(e.attachEvent)e.attachEvent(Gi(n.toString()),a);else if(e.addListener&&e.removeListener)e.addListener(a);else throw Error("addEventListener and attachEvent are unavailable.");return r}function ba(){function e(r){return n.call(e.src,e.listener,r)}let n=Ca;return e}function $i(e,n,r,a,y){if(Array.isArray(n)){for(var _=0;_<n.length;_++)$i(e,n[_],r,a,y);return null}return r=jn(r),e&&e[Z]?e.L(n,r,T(a)?!!a.capture:!!a,y):qi(e,n,r,!0,a,y)}function Ui(e,n,r,a,y){if(Array.isArray(n))for(var _=0;_<n.length;_++)Ui(e,n[_],r,a,y);else a=T(a)?!!a.capture:!!a,r=jn(r),e&&e[Z]?(e=e.i,n=String(n).toString(),n in e.g&&(_=e.g[n],r=kn(_,r,a,y),-1<r&&(Pe(_[r]),Array.prototype.splice.call(_,r,1),_.length==0&&(delete e.g[n],e.h--)))):e&&(e=Fn(e))&&(n=e.g[n.toString()],e=-1,n&&(e=kn(n,r,a,y)),(r=-1<e?n[e]:null)&&Mn(r))}function Mn(e){if(typeof e!="number"&&e&&!e.da){var n=e.src;if(n&&n[Z])Pn(n.i,e);else{var r=e.type,a=e.proxy;n.removeEventListener?n.removeEventListener(r,a,e.capture):n.detachEvent?n.detachEvent(Gi(r),a):n.addListener&&n.removeListener&&n.removeListener(a),(r=Fn(n))?(Pn(r,e),r.h==0&&(r.src=null,n[Vn]=null)):Pe(e)}}}function Gi(e){return e in Nn?Nn[e]:Nn[e]="on"+e}function Ca(e,n){if(e.da)e=!0;else{n=new H(n,this);var r=e.listener,a=e.ha||e.src;e.fa&&Mn(e),e=r.call(a,n)}return e}function Fn(e){return e=e[Vn],e instanceof ft?e:null}var On="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(e){return typeof e=="function"?e:(e[On]||(e[On]=function(n){return e.handleEvent(n)}),e[On])}function ie(){F.call(this),this.i=new ft(this),this.M=this,this.F=null}C(ie,F),ie.prototype[Z]=!0,ie.prototype.removeEventListener=function(e,n,r,a){Ui(this,e,n,r,a)};function se(e,n){var r,a=e.F;if(a)for(r=[];a;a=a.F)r.push(a);if(e=e.M,a=n.type||n,typeof n=="string")n=new x(n,e);else if(n instanceof x)n.target=n.target||e;else{var y=n;n=new x(a,e),f(n,y)}if(y=!0,r)for(var _=r.length-1;0<=_;_--){var E=n.g=r[_];y=Lt(E,a,!0,n)&&y}if(E=n.g=e,y=Lt(E,a,!0,n)&&y,y=Lt(E,a,!1,n)&&y,r)for(_=0;_<r.length;_++)E=n.g=r[_],y=Lt(E,a,!1,n)&&y}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var e=this.i,n;for(n in e.g){for(var r=e.g[n],a=0;a<r.length;a++)Pe(r[a]);delete e.g[n],e.h--}}this.F=null},ie.prototype.K=function(e,n,r,a){return this.i.add(String(e),n,!1,r,a)},ie.prototype.L=function(e,n,r,a){return this.i.add(String(e),n,!0,r,a)};function Lt(e,n,r,a){if(n=e.i.g[String(n)],!n)return!0;n=n.concat();for(var y=!0,_=0;_<n.length;++_){var E=n[_];if(E&&!E.da&&E.capture==r){var $=E.listener,ee=E.ha||E.src;E.fa&&Pn(e.i,E),y=$.call(ee,a)!==!1&&y}}return y&&!a.defaultPrevented}function Ki(e,n,r){if(typeof e=="function")r&&(e=D(e,r));else if(e&&typeof e.handleEvent=="function")e=D(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(n)?-1:I.setTimeout(e,n||0)}function Hi(e){e.g=Ki(()=>{e.g=null,e.i&&(e.i=!1,Hi(e))},e.l);let n=e.h;e.h=null,e.m.apply(null,n)}class Aa extends F{constructor(n,r){super(),this.m=n,this.l=r,this.h=null,this.i=!1,this.g=null}j(n){this.h=arguments,this.g?this.i=!0:Hi(this)}N(){super.N(),this.g&&(I.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mt(e){F.call(this),this.h=e,this.g={}}C(mt,F);var Wi=[];function Qi(e){R(e.g,function(n,r){this.g.hasOwnProperty(r)&&Mn(n)},e),e.g={}}mt.prototype.N=function(){mt.aa.N.call(this),Qi(this)},mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=I.JSON.stringify,Da=I.JSON.parse,xa=class{stringify(e){return I.JSON.stringify(e,void 0)}parse(e){return I.JSON.parse(e,void 0)}};function Bn(){}Bn.prototype.h=null;function Yi(e){return e.h||(e.h=e.i())}function Xi(){}var pt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zn(){x.call(this,"d")}C(zn,x);function qn(){x.call(this,"c")}C(qn,x);var ze={},Zi=null;function Bt(){return Zi=Zi||new ie}ze.La="serverreachability";function Ji(e){x.call(this,ze.La,e)}C(Ji,x);function gt(e){let n=Bt();se(n,new Ji(n))}ze.STAT_EVENT="statevent";function er(e,n){x.call(this,ze.STAT_EVENT,e),this.stat=n}C(er,x);function ae(e){let n=Bt();se(n,new er(n,e))}ze.Ma="timingevent";function tr(e,n){x.call(this,ze.Ma,e),this.size=n}C(tr,x);function yt(e,n){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return I.setTimeout(function(){e()},n)}function vt(){this.g=!0}vt.prototype.xa=function(){this.g=!1};function Sa(e,n,r,a,y,_){e.info(function(){if(e.g)if(_)for(var E="",$=_.split("&"),ee=0;ee<$.length;ee++){var z=$[ee].split("=");if(1<z.length){var re=z[0];z=z[1];var oe=re.split("_");E=2<=oe.length&&oe[1]=="type"?E+(re+"="+z+"&"):E+(re+"=redacted&")}}else E=null;else E=_;return"XMLHTTP REQ ("+a+") [attempt "+y+"]: "+n+`
`+r+`
`+E})}function Ra(e,n,r,a,y,_,E){e.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+y+"]: "+n+`
`+r+`
`+_+" "+E})}function Ye(e,n,r,a){e.info(function(){return"XMLHTTP TEXT ("+n+"): "+ka(e,r)+(a?" "+a:"")})}function Pa(e,n){e.info(function(){return"TIMEOUT: "+n})}vt.prototype.info=function(){};function ka(e,n){if(!e.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r){for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var a=r[e];if(!(2>a.length)){var y=a[1];if(Array.isArray(y)&&!(1>y.length)){var _=y[0];if(_!="noop"&&_!="stop"&&_!="close")for(var E=1;E<y.length;E++)y[E]=""}}}}return Ln(r)}catch{return n}}var zt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function qt(){}C(qt,Bn),qt.prototype.g=function(){return new XMLHttpRequest},qt.prototype.i=function(){return{}},$n=new qt;function ke(e,n,r,a){this.j=e,this.i=n,this.l=r,this.R=a||1,this.U=new mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var rr={},Un={};function Gn(e,n,r){e.L=1,e.v=Kt(Ce(n)),e.m=r,e.P=!0,or(e,null)}function or(e,n){e.F=Date.now(),$t(e),e.A=Ce(e.v);var r=e.A,a=e.R;Array.isArray(a)||(a=[String(a)]),Ir(r.i,"t",a),e.C=0,r=e.j.J,e.h=new ir,e.g=Or(e.j,r?n:null,!e.m),0<e.O&&(e.M=new Aa(D(e.Y,e,e.g),e.O)),n=e.U,r=e.g,a=e.ca;var y="readystatechange";Array.isArray(y)||(y&&(Wi[0]=y.toString()),y=Wi);for(var _=0;_<y.length;_++){var E=zi(r,y[_],a||n.handleEvent,!1,n.h||n);if(!E)break;n.g[E.key]=E}n=e.H?l(e.H):{},e.m?(e.u||(e.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,n)):(e.u="GET",e.g.ea(e.A,e.u,null,n)),gt(),Sa(e.i,e.u,e.A,e.l,e.R,e.m)}ke.prototype.ca=function(e){e=e.target;let n=this.M;n&&Ae(e)==3?n.j():this.Y(e)},ke.prototype.Y=function(e){try{if(e==this.g)e:{let oe=Ae(this.g);var n=this.g.Ba();let Je=this.g.Z();if(!(3>oe)&&(oe!=3||this.g&&(this.h.h||this.g.oa()||Ar(this.g)))){this.J||oe!=4||n==7||(n==8||0>=Je?gt(3):gt(2)),Kn(this);var r=this.g.Z();this.X=r;t:if(sr(this)){var a=Ar(this.g);e="";var y=a.length,_=Ae(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),It(this);var E="";break t}this.h.i=new I.TextDecoder}for(n=0;n<y;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:!(_&&n==y-1)});a.length=0,this.h.g+=e,this.C=0,E=this.h.g}else E=this.g.oa();if(this.o=r==200,Ra(this.i,this.u,this.A,this.l,this.R,oe,r),this.o){if(this.T&&!this.K){t:{if(this.g){var $,ee=this.g;if(($=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B($)){var z=$;break t}}z=null}if(r=z)Ye(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hn(this,r);else{this.o=!1,this.s=3,ae(12),qe(this),It(this);break e}}if(this.P){r=!0;let pe;for(;!this.J&&this.C<E.length;)if(pe=Va(this,E),pe==Un){oe==4&&(this.s=4,ae(14),r=!1),Ye(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==rr){this.s=4,ae(15),Ye(this.i,this.l,E,"[Invalid Chunk]"),r=!1;break}else Ye(this.i,this.l,pe,null),Hn(this,pe);if(sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),oe!=4||E.length!=0||this.h.h||(this.s=1,ae(16),r=!1),this.o=this.o&&r,!r)Ye(this.i,this.l,E,"[Invalid Chunked Response]"),qe(this),It(this);else if(0<E.length&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.ba&&!re.M&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Jn(re),re.M=!0,ae(11))}}else Ye(this.i,this.l,E,null),Hn(this,E);oe==4&&qe(this),this.o&&!this.J&&(oe==4?Vr(this.j,this):(this.o=!1,$t(this)))}else Ya(this.g),r==400&&0<E.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),qe(this),It(this)}}}catch{}finally{}};function sr(e){return e.g?e.u=="GET"&&e.L!=2&&e.j.Ca:!1}function Va(e,n){var r=e.C,a=n.indexOf(`
`,r);return a==-1?Un:(r=Number(n.substring(r,a)),isNaN(r)?rr:(a+=1,a+r>n.length?Un:(n=n.slice(a,a+r),e.C=a+r,n)))}ke.prototype.cancel=function(){this.J=!0,qe(this)};function $t(e){e.S=Date.now()+e.I,ar(e,e.I)}function ar(e,n){if(e.B!=null)throw Error("WatchDog timer not null");e.B=yt(D(e.ba,e),n)}function Kn(e){e.B&&(I.clearTimeout(e.B),e.B=null)}ke.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(Pa(this.i,this.A),this.L!=2&&(gt(),ae(17)),qe(this),this.s=2,It(this)):ar(this,this.S-e)};function It(e){e.j.G==0||e.J||Vr(e.j,e)}function qe(e){Kn(e);var n=e.M;n&&typeof n.ma=="function"&&n.ma(),e.M=null,Qi(e.U),e.g&&(n=e.g,e.g=null,n.abort(),n.ma())}function Hn(e,n){try{var r=e.j;if(r.G!=0&&(r.g==e||Wn(r.h,e))){if(!e.K&&Wn(r.h,e)&&r.G==3){try{var a=r.Da.g.parse(n)}catch{a=null}if(Array.isArray(a)&&a.length==3){var y=a;if(y[0]==0){e:if(!r.u){if(r.g)if(r.g.F+3e3<e.F)Xt(r),Qt(r);else break e;Zn(r),ae(18)}}else r.za=y[1],0<r.za-r.T&&37500>y[2]&&r.F&&r.v==0&&!r.C&&(r.C=yt(D(r.Za,r),6e3));if(1>=ur(r.h)&&r.ca){try{r.ca()}catch{}r.ca=void 0}}else Ue(r,11)}else if((e.K||r.g==e)&&Xt(r),!B(n))for(y=r.Da.g.parse(n),n=0;n<y.length;n++){let z=y[n];if(r.T=z[0],z=z[1],r.G==2)if(z[0]=="c"){r.K=z[1],r.ia=z[2];let re=z[3];re!=null&&(r.la=re,r.j.info("VER="+r.la));let oe=z[4];oe!=null&&(r.Aa=oe,r.j.info("SVER="+r.Aa));let Je=z[5];Je!=null&&typeof Je=="number"&&0<Je&&(a=1.5*Je,r.L=a,r.j.info("backChannelRequestTimeoutMs_="+a)),a=r;let pe=e.g;if(pe){let Jt=pe.g?pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jt){var _=a.h;_.g||Jt.indexOf("spdy")==-1&&Jt.indexOf("quic")==-1&&Jt.indexOf("h2")==-1||(_.j=_.l,_.g=new Set,_.h&&(Qn(_,_.h),_.h=null))}if(a.D){let ei=pe.g?pe.g.getResponseHeader("X-HTTP-Session-Id"):null;ei&&(a.ya=ei,G(a.I,a.D,ei))}}r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-e.F,r.j.info("Handshake RTT: "+r.R+"ms")),a=r;var E=e;if(a.qa=Fr(a,a.J?a.ia:null,a.W),E.K){dr(a.h,E);var $=E,ee=a.L;ee&&($.I=ee),$.B&&(Kn($),$t($)),a.g=E}else Pr(a);0<r.i.length&&Yt(r)}else z[0]!="stop"&&z[0]!="close"||Ue(r,7);else r.G==3&&(z[0]=="stop"||z[0]=="close"?z[0]=="stop"?Ue(r,7):Xn(r):z[0]!="noop"&&r.l&&r.l.ta(z),r.v=0)}}gt(4)}catch{}}var Na=class{constructor(e,n){this.g=e,this.map=n}};function cr(e){this.l=e||10,I.PerformanceNavigationTiming?(e=I.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(I.chrome&&I.chrome.loadTimes&&I.chrome.loadTimes()&&I.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lr(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function ur(e){return e.h?1:e.g?e.g.size:0}function Wn(e,n){return e.h?e.h==n:e.g?e.g.has(n):!1}function Qn(e,n){e.g?e.g.add(n):e.h=n}function dr(e,n){e.h&&e.h==n?e.h=null:e.g&&e.g.has(n)&&e.g.delete(n)}cr.prototype.cancel=function(){if(this.i=hr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function hr(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let n=e.i;for(let r of e.g.values())n=n.concat(r.D);return n}return V(e.i)}function Ma(e){if(e.V&&typeof e.V=="function")return e.V();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(w(e)){for(var n=[],r=e.length,a=0;a<r;a++)n.push(e[a]);return n}n=[],r=0;for(a in e)n[r++]=e[a];return n}function Fa(e){if(e.na&&typeof e.na=="function")return e.na();if(!e.V||typeof e.V!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(w(e)||typeof e=="string"){var n=[];e=e.length;for(var r=0;r<e;r++)n.push(r);return n}n=[],r=0;for(let a in e)n[r++]=a;return n}}}function fr(e,n){if(e.forEach&&typeof e.forEach=="function")e.forEach(n,void 0);else if(w(e)||typeof e=="string")Array.prototype.forEach.call(e,n,void 0);else for(var r=Fa(e),a=Ma(e),y=a.length,_=0;_<y;_++)n.call(void 0,a[_],r&&r[_],e)}var mr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(e,n){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var a=e[r].indexOf("="),y=null;if(0<=a){var _=e[r].substring(0,a);y=e[r].substring(a+1)}else _=e[r];n(_,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}function $e(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof $e){this.h=e.h,Ut(this,e.j),this.o=e.o,this.g=e.g,Gt(this,e.s),this.l=e.l;var n=e.i,r=new Et;r.i=n.i,n.g&&(r.g=new Map(n.g),r.h=n.h),pr(this,r),this.m=e.m}else e&&(n=String(e).match(mr))?(this.h=!1,Ut(this,n[1]||"",!0),this.o=_t(n[2]||""),this.g=_t(n[3]||"",!0),Gt(this,n[4]),this.l=_t(n[5]||"",!0),pr(this,n[6]||"",!0),this.m=_t(n[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}$e.prototype.toString=function(){var e=[],n=this.j;n&&e.push(wt(n,gr,!0),":");var r=this.g;return(r||n=="file")&&(e.push("//"),(n=this.o)&&e.push(wt(n,gr,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.s,r!=null&&e.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&e.push("/"),e.push(wt(r,r.charAt(0)=="/"?Ba:La,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",wt(r,qa)),e.join("")};function Ce(e){return new $e(e)}function Ut(e,n,r){e.j=r?_t(n,!0):n,e.j&&(e.j=e.j.replace(/:$/,""))}function Gt(e,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);e.s=n}else e.s=null}function pr(e,n,r){n instanceof Et?(e.i=n,$a(e.i,e.h)):(r||(n=wt(n,za)),e.i=new Et(n,e.h))}function G(e,n,r){e.i.set(n,r)}function Kt(e){return G(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function _t(e,n){return e?n?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function wt(e,n,r){return typeof e=="string"?(e=encodeURI(e).replace(n,ja),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ja(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var gr=/[#\/\?@]/g,La=/[#\?:]/g,Ba=/[#\?]/g,za=/[#\?@]/g,qa=/#/g;function Et(e,n){this.h=this.g=null,this.i=e||null,this.j=!!n}function Ve(e){e.g||(e.g=new Map,e.h=0,e.i&&Oa(e.i,function(n,r){e.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}o=Et.prototype,o.add=function(e,n){Ve(this),this.i=null,e=Xe(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(n),this.h+=1,this};function yr(e,n){Ve(e),n=Xe(e,n),e.g.has(n)&&(e.i=null,e.h-=e.g.get(n).length,e.g.delete(n))}function vr(e,n){return Ve(e),n=Xe(e,n),e.g.has(n)}o.forEach=function(e,n){Ve(this),this.g.forEach(function(r,a){r.forEach(function(y){e.call(n,y,a,this)},this)},this)},o.na=function(){Ve(this);let e=Array.from(this.g.values()),n=Array.from(this.g.keys()),r=[];for(let a=0;a<n.length;a++){let y=e[a];for(let _=0;_<y.length;_++)r.push(n[a])}return r},o.V=function(e){Ve(this);let n=[];if(typeof e=="string")vr(this,e)&&(n=n.concat(this.g.get(Xe(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)n=n.concat(e[r])}return n},o.set=function(e,n){return Ve(this),this.i=null,e=Xe(this,e),vr(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[n]),this.h+=1,this},o.get=function(e,n){return e?(e=this.V(e),0<e.length?String(e[0]):n):n};function Ir(e,n,r){yr(e,n),0<r.length&&(e.i=null,e.g.set(Xe(e,n),V(r)),e.h+=r.length)}o.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],n=Array.from(this.g.keys());for(var r=0;r<n.length;r++){var a=n[r];let _=encodeURIComponent(String(a)),E=this.V(a);for(a=0;a<E.length;a++){var y=_;E[a]!==""&&(y+="="+encodeURIComponent(String(E[a]))),e.push(y)}}return this.i=e.join("&")};function Xe(e,n){return n=String(n),e.j&&(n=n.toLowerCase()),n}function $a(e,n){n&&!e.j&&(Ve(e),e.i=null,e.g.forEach(function(r,a){var y=a.toLowerCase();a!=y&&(yr(this,a),Ir(this,y,r))},e)),e.j=n}function Ua(e,n){let r=new vt;if(I.Image){let a=new Image;a.onload=k(Ne,r,"TestLoadImage: loaded",!0,n,a),a.onerror=k(Ne,r,"TestLoadImage: error",!1,n,a),a.onabort=k(Ne,r,"TestLoadImage: abort",!1,n,a),a.ontimeout=k(Ne,r,"TestLoadImage: timeout",!1,n,a),I.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=e}else n(!1)}function Ga(e,n){let r=new vt,a=new AbortController,y=setTimeout(()=>{a.abort(),Ne(r,"TestPingServer: timeout",!1,n)},1e4);fetch(e,{signal:a.signal}).then(_=>{clearTimeout(y),_.ok?Ne(r,"TestPingServer: ok",!0,n):Ne(r,"TestPingServer: server error",!1,n)}).catch(()=>{clearTimeout(y),Ne(r,"TestPingServer: error",!1,n)})}function Ne(e,n,r,a,y){try{y&&(y.onload=null,y.onerror=null,y.onabort=null,y.ontimeout=null),a(r)}catch{}}function Ka(){this.g=new xa}function Ha(e,n,r){let a=r||"";try{fr(e,function(y,_){let E=y;T(y)&&(E=Ln(y)),n.push(a+_+"="+encodeURIComponent(E))})}catch(y){throw n.push(a+"type="+encodeURIComponent("_badmap")),y}}function Tt(e){this.l=e.Ub||null,this.j=e.eb||!1}C(Tt,Bn),Tt.prototype.g=function(){return new Ht(this.l,this.j)},Tt.prototype.i=function(e){return function(){return e}}({});function Ht(e,n){ie.call(this),this.D=e,this.o=n,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ht,ie),o=Ht.prototype,o.open=function(e,n){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=n,this.readyState=1,Ct(this)},o.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let n={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(n.body=e),(this.D||I).fetch(new Request(this.A,n)).then(this.Sa.bind(this),this.ga.bind(this))},o.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bt(this)),this.readyState=0},o.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ct(this)),this.g&&(this.readyState=3,Ct(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof I.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_r(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))};function _r(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}o.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var n=e.value?e.value:new Uint8Array(0);(n=this.v.decode(n,{stream:!e.done}))&&(this.response=this.responseText+=n)}e.done?bt(this):Ct(this),this.readyState==3&&_r(this)}},o.Ra=function(e){this.g&&(this.response=this.responseText=e,bt(this))},o.Qa=function(e){this.g&&(this.response=e,bt(this))},o.ga=function(){this.g&&bt(this)};function bt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ct(e)}o.setRequestHeader=function(e,n){this.u.append(e,n)},o.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],n=this.h.entries();for(var r=n.next();!r.done;)r=r.value,e.push(r[0]+": "+r[1]),r=n.next();return e.join(`\r
`)};function Ct(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Ht.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});function wr(e){let n="";return R(e,function(r,a){n+=a,n+=":",n+=r,n+=`\r
`}),n}function Yn(e,n,r){e:{for(a in r){var a=!1;break e}a=!0}a||(r=wr(r),typeof e=="string"?r!=null&&encodeURIComponent(String(r)):G(e,n,r))}function W(e){ie.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(W,ie);var Wa=/^https?$/i,Qa=["POST","PUT"];o=W.prototype,o.Ha=function(e){this.J=e},o.ea=function(e,n,r,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);n=n?n.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?Yi(this.o):Yi($n),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(n,String(e),!0),this.B=!1}catch(_){Er(this,_);return}if(e=r||"",r=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var y in a)r.set(y,a[y]);else if(typeof a.keys=="function"&&typeof a.get=="function")for(let _ of a.keys())r.set(_,a.get(_));else throw Error("Unknown input type for opt_headers: "+String(a));a=Array.from(r.keys()).find(_=>_.toLowerCase()=="content-type"),y=I.FormData&&e instanceof I.FormData,!(0<=Array.prototype.indexOf.call(Qa,n,void 0))||a||y||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[_,E]of r)this.g.setRequestHeader(_,E);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cr(this),this.u=!0,this.g.send(e),this.u=!1}catch(_){Er(this,_)}};function Er(e,n){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=n,e.m=5,Tr(e),Wt(e)}function Tr(e){e.A||(e.A=!0,se(e,"complete"),se(e,"error"))}o.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,se(this,"complete"),se(this,"abort"),Wt(this))},o.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),W.aa.N.call(this)},o.Ea=function(){this.s||(this.B||this.u||this.j?br(this):this.bb())},o.bb=function(){br(this)};function br(e){if(e.h&&typeof v<"u"&&(!e.v[1]||Ae(e)!=4||e.Z()!=2)){if(e.u&&Ae(e)==4)Ki(e.Ea,0,e);else if(se(e,"readystatechange"),Ae(e)==4){e.h=!1;try{let E=e.Z();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var a;if(a=E===0){var y=String(e.D).match(mr)[1]||null;!y&&I.self&&I.self.location&&(y=I.self.location.protocol.slice(0,-1)),a=!Wa.test(y?y.toLowerCase():"")}r=a}if(r)se(e,"complete"),se(e,"success");else{e.m=6;try{var _=2<Ae(e)?e.g.statusText:""}catch{_=""}e.l=_+" ["+e.Z()+"]",Tr(e)}}finally{Wt(e)}}}}function Wt(e,n){if(e.g){Cr(e);let r=e.g,a=e.v[0]?()=>{}:null;e.g=null,e.v=null,n||se(e,"ready");try{r.onreadystatechange=a}catch{}}}function Cr(e){e.I&&(I.clearTimeout(e.I),e.I=null)}o.isActive=function(){return!!this.g};function Ae(e){return e.g?e.g.readyState:0}o.Z=function(){try{return 2<Ae(this)?this.g.status:-1}catch{return-1}},o.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},o.Oa=function(e){if(this.g){var n=this.g.responseText;return e&&n.indexOf(e)==0&&(n=n.substring(e.length)),Da(n)}};function Ar(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Ya(e){let n={};e=(e.g&&2<=Ae(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let a=0;a<e.length;a++){if(B(e[a]))continue;var r=m(e[a]);let y=r[0];if(r=r[1],typeof r!="string")continue;r=r.trim();let _=n[y]||[];n[y]=_,_.push(r)}p(n,function(a){return a.join(", ")})}o.Ba=function(){return this.m},o.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function At(e,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||n}function Dr(e){this.Aa=0,this.i=[],this.j=new vt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=At("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=At("baseRetryDelayMs",5e3,e),this.cb=At("retryDelaySeedMs",1e4,e),this.Wa=At("forwardChannelMaxRetries",2,e),this.wa=At("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new cr(e&&e.concurrentRequestLimit),this.Da=new Ka,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}o=Dr.prototype,o.la=8,o.G=1,o.connect=function(e,n,r,a){ae(0),this.W=e,this.H=n||{},r&&a!==void 0&&(this.H.OSID=r,this.H.OAID=a),this.F=this.X,this.I=Fr(this,null,this.W),Yt(this)};function Xn(e){if(xr(e),e.G==3){var n=e.U++,r=Ce(e.I);if(G(r,"SID",e.K),G(r,"RID",n),G(r,"TYPE","terminate"),Dt(e,r),n=new ke(e,e.j,n),n.L=2,n.v=Kt(Ce(r)),r=!1,I.navigator&&I.navigator.sendBeacon)try{r=I.navigator.sendBeacon(n.v.toString(),"")}catch{}!r&&I.Image&&(new Image().src=n.v,r=!0),r||(n.g=Or(n.j,null),n.g.ea(n.v)),n.F=Date.now(),$t(n)}Mr(e)}function Qt(e){e.g&&(Jn(e),e.g.cancel(),e.g=null)}function xr(e){Qt(e),e.u&&(I.clearTimeout(e.u),e.u=null),Xt(e),e.h.cancel(),e.s&&(typeof e.s=="number"&&I.clearTimeout(e.s),e.s=null)}function Yt(e){if(!lr(e.h)&&!e.s){e.s=!0;var n=e.Ga;Ee||Re(),Te||(Ee(),Te=!0),Le.add(n,e),e.B=0}}function Xa(e,n){return ur(e.h)>=e.h.j-(e.s?1:0)?!1:e.s?(e.i=n.D.concat(e.i),!0):e.G==1||e.G==2||e.B>=(e.Va?0:e.Wa)?!1:(e.s=yt(D(e.Ga,e,n),Nr(e,e.B)),e.B++,!0)}o.Ga=function(e){if(this.s)if(this.s=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let y=new ke(this,this.j,e),_=this.o;if(this.S&&(_?(_=l(_),f(_,this.S)):_=this.S),this.m!==null||this.O||(y.H=_,_=null),this.P)e:{for(var n=0,r=0;r<this.i.length;r++){t:{var a=this.i[r];if("__data__"in a.map&&(a=a.map.__data__,typeof a=="string")){a=a.length;break t}a=void 0}if(a===void 0)break;if(n+=a,4096<n){n=r;break e}if(n===4096||r===this.i.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=Rr(this,y,n),r=Ce(this.I),G(r,"RID",e),G(r,"CVER",22),this.D&&G(r,"X-HTTP-Session-Id",this.D),Dt(this,r),_&&(this.O?n="headers="+encodeURIComponent(String(wr(_)))+"&"+n:this.m&&Yn(r,this.m,_)),Qn(this.h,y),this.Ua&&G(r,"TYPE","init"),this.P?(G(r,"$req",n),G(r,"SID","null"),y.T=!0,Gn(y,r,null)):Gn(y,r,n),this.G=2}}else this.G==3&&(e?Sr(this,e):this.i.length==0||lr(this.h)||Sr(this))};function Sr(e,n){var r;n?r=n.l:r=e.U++;let a=Ce(e.I);G(a,"SID",e.K),G(a,"RID",r),G(a,"AID",e.T),Dt(e,a),e.m&&e.o&&Yn(a,e.m,e.o),r=new ke(e,e.j,r,e.B+1),e.m===null&&(r.H=e.o),n&&(e.i=n.D.concat(e.i)),n=Rr(e,r,1e3),r.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Qn(e.h,r),Gn(r,a,n)}function Dt(e,n){e.H&&R(e.H,function(r,a){G(n,a,r)}),e.l&&fr({},function(r,a){G(n,a,r)})}function Rr(e,n,r){r=Math.min(e.i.length,r);var a=e.l?D(e.l.Na,e.l,e):null;e:{var y=e.i;let _=-1;for(;;){let E=["count="+r];_==-1?0<r?(_=y[0].g,E.push("ofs="+_)):_=0:E.push("ofs="+_);let $=!0;for(let ee=0;ee<r;ee++){let z=y[ee].g,re=y[ee].map;if(z-=_,0>z)_=Math.max(0,y[ee].g-100),$=!1;else try{Ha(re,E,"req"+z+"_")}catch{a&&a(re)}}if($){a=E.join("&");break e}}}return e=e.i.splice(0,r),n.D=e,a}function Pr(e){if(!e.g&&!e.u){e.Y=1;var n=e.Fa;Ee||Re(),Te||(Ee(),Te=!0),Le.add(n,e),e.v=0}}function Zn(e){return e.g||e.u||3<=e.v?!1:(e.Y++,e.u=yt(D(e.Fa,e),Nr(e,e.v)),e.v++,!0)}o.Fa=function(){if(this.u=null,kr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=yt(D(this.ab,this),e)}},o.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Qt(this),kr(this))};function Jn(e){e.A!=null&&(I.clearTimeout(e.A),e.A=null)}function kr(e){e.g=new ke(e,e.j,"rpc",e.Y),e.m===null&&(e.g.H=e.o),e.g.O=0;var n=Ce(e.qa);G(n,"RID","rpc"),G(n,"SID",e.K),G(n,"AID",e.T),G(n,"CI",e.F?"0":"1"),!e.F&&e.ja&&G(n,"TO",e.ja),G(n,"TYPE","xmlhttp"),Dt(e,n),e.m&&e.o&&Yn(n,e.m,e.o),e.L&&(e.g.I=e.L);var r=e.g;e=e.ia,r.L=1,r.v=Kt(Ce(n)),r.m=null,r.P=!0,or(r,e)}o.Za=function(){this.C!=null&&(this.C=null,Qt(this),Zn(this),ae(19))};function Xt(e){e.C!=null&&(I.clearTimeout(e.C),e.C=null)}function Vr(e,n){var r=null;if(e.g==n){Xt(e),Jn(e),e.g=null;var a=2}else if(Wn(e.h,n))r=n.D,dr(e.h,n),a=1;else return;if(e.G!=0){if(n.o)if(a==1){r=n.m?n.m.length:0,n=Date.now()-n.F;var y=e.B;a=Bt(),se(a,new tr(a,r)),Yt(e)}else Pr(e);else if(y=n.s,y==3||y==0&&0<n.X||!(a==1&&Xa(e,n)||a==2&&Zn(e)))switch(r&&0<r.length&&(n=e.h,n.i=n.i.concat(r)),y){case 1:Ue(e,5);break;case 4:Ue(e,10);break;case 3:Ue(e,6);break;default:Ue(e,2)}}}function Nr(e,n){let r=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(r*=2),r*n}function Ue(e,n){if(e.j.info("Error code "+n),n==2){var r=D(e.fb,e),a=e.Xa;let y=!a;a=new $e(a||"//www.google.com/images/cleardot.gif"),I.location&&I.location.protocol=="http"||Ut(a,"https"),Kt(a),y?Ua(a.toString(),r):Ga(a.toString(),r)}else ae(2);e.G=0,e.l&&e.l.sa(n),Mr(e),xr(e)}o.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function Mr(e){if(e.G=0,e.ka=[],e.l){let n=hr(e.h);(n.length!=0||e.i.length!=0)&&(b(e.ka,n),b(e.ka,e.i),e.h.i.length=0,V(e.i),e.i.length=0),e.l.ra()}}function Fr(e,n,r){var a=r instanceof $e?Ce(r):new $e(r);if(a.g!="")n&&(a.g=n+"."+a.g),Gt(a,a.s);else{var y=I.location;a=y.protocol,n=n?n+"."+y.hostname:y.hostname,y=+y.port;var _=new $e(null);a&&Ut(_,a),n&&(_.g=n),y&&Gt(_,y),r&&(_.l=r),a=_}return r=e.D,n=e.ya,r&&n&&G(a,r,n),G(a,"VER",e.la),Dt(e,a),a}function Or(e,n,r){if(n&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return n=e.Ca&&!e.pa?new W(new Tt({eb:r})):new W(e.pa),n.Ha(e.J),n}o.isActive=function(){return!!this.l&&this.l.isActive(this)};function jr(){}o=jr.prototype,o.ua=function(){},o.ta=function(){},o.sa=function(){},o.ra=function(){},o.isActive=function(){return!0},o.Na=function(){};function Zt(){}Zt.prototype.g=function(e,n){return new he(e,n)};function he(e,n){ie.call(this),this.g=new Dr(n),this.l=e,this.h=n&&n.messageUrlParams||null,e=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(e?e["X-WebChannel-Content-Type"]=n.messageContentType:e={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.va&&(e?e["X-WebChannel-Client-Profile"]=n.va:e={"X-WebChannel-Client-Profile":n.va}),this.g.S=e,(e=n&&n.Sb)&&!B(e)&&(this.g.m=e),this.v=n&&n.supportsCrossDomainXhr||!1,this.u=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!B(n)&&(this.g.D=n,e=this.h,e!==null&&n in e&&(e=this.h,n in e&&delete e[n])),this.j=new Ze(this)}C(he,ie),he.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},he.prototype.close=function(){Xn(this.g)},he.prototype.o=function(e){var n=this.g;if(typeof e=="string"){var r={};r.__data__=e,e=r}else this.u&&(r={},r.__data__=Ln(e),e=r);n.i.push(new Na(n.Ya++,e)),n.G==3&&Yt(n)},he.prototype.N=function(){this.g.l=null,delete this.j,Xn(this.g),delete this.g,he.aa.N.call(this)};function Lr(e){zn.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var n=e.__sm__;if(n){e:{for(let r in n){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,n=n!==null&&e in n?n[e]:void 0),this.data=n}else this.data=e}C(Lr,zn);function Br(){qn.call(this),this.status=1}C(Br,qn);function Ze(e){this.g=e}C(Ze,jr),Ze.prototype.ua=function(){se(this.g,"a")},Ze.prototype.ta=function(e){se(this.g,new Lr(e))},Ze.prototype.sa=function(e){se(this.g,new Br)},Ze.prototype.ra=function(){se(this.g,"b")},Zt.prototype.createWebChannel=Zt.prototype.g,he.prototype.send=he.prototype.o,he.prototype.open=he.prototype.m,he.prototype.close=he.prototype.close,zs=Se.createWebChannelTransport=function(){return new Zt},Bs=Se.getStatEventTarget=function(){return Bt()},Ls=Se.Event=ze,js=Se.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zt.NO_ERROR=0,zt.TIMEOUT=8,zt.HTTP_ERROR=6,Os=Se.ErrorCode=zt,nr.COMPLETE="complete",Fs=Se.EventType=nr,Xi.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Ms=Se.WebChannel=Xi,Xc=Se.FetchXmlHttpFactory=Tt,W.prototype.listenOnce=W.prototype.L,W.prototype.getLastError=W.prototype.Ka,W.prototype.getLastErrorCode=W.prototype.Ba,W.prototype.getStatus=W.prototype.Z,W.prototype.getResponseJson=W.prototype.Oa,W.prototype.getResponseText=W.prototype.oa,W.prototype.send=W.prototype.ea,W.prototype.setWithCredentials=W.prototype.Ha,Ns=Se.XhrIo=W}).apply(typeof En<"u"?En:typeof self<"u"?self:typeof window<"u"?window:{});var qs="@firebase/firestore",$s="4.7.17";var te=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};te.UNAUTHENTICATED=new te(null),te.GOOGLE_CREDENTIALS=new te("google-credentials-uid"),te.FIRST_PARTY=new te("first-party-uid"),te.MOCK_USER=new te("mock-user");var Ot="11.9.0";var lt=new jo("@firebase/firestore");function ge(o,...t){if(lt.logLevel<=pn.DEBUG){let i=t.map(ji);lt.debug(`Firestore (${Ot}): ${o}`,...i)}}function Zs(o,...t){if(lt.logLevel<=pn.ERROR){let i=t.map(ji);lt.error(`Firestore (${Ot}): ${o}`,...i)}}function Zc(o,...t){if(lt.logLevel<=pn.WARN){let i=t.map(ji);lt.warn(`Firestore (${Ot}): ${o}`,...i)}}function ji(o){if(typeof o=="string")return o;try{return function(i){return JSON.stringify(i)}(o)}catch{return o}}function fe(o,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,Js(o,s,i)}function Js(o,t,i){let s=`FIRESTORE (${Ot}) INTERNAL ASSERTION FAILED: ${t} (ID: ${o.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Zs(s),new Error(s)}function He(o,t,i,s){let c="Unexpected state";typeof i=="string"?c=i:s=i,o||Js(t,c,s)}var ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ne=class extends Mo{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var We=class{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}};var Tn=class{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},bi=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(te.UNAUTHENTICATED))}shutdown(){}},Ci=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},Ai=class{constructor(t){this.t=t,this.currentUser=te.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){He(this.o===void 0,42304);let s=this.i,c=w=>this.i!==s?(s=this.i,i(w)):Promise.resolve(),u=new We;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new We,t.enqueueRetryable(()=>c(this.currentUser))};let v=()=>{let w=u;t.enqueueRetryable(()=>O(this,null,function*(){yield w.promise,yield c(this.currentUser)}))},I=w=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),v())};this.t.onInit(w=>I(w)),setTimeout(()=>{if(!this.auth){let w=this.t.getImmediate({optional:!0});w?I(w):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new We)}},0),v()}getToken(){let t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new Tn(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return He(t===null||typeof t=="string",2055,{h:t}),new te(t)}},Di=class{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=te.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},xi=class{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Di(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(te.FIRST_PARTY))}shutdown(){}invalidateToken(){}},bn=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Si=class{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zo(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){He(this.o===void 0,3512);let s=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);let v=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};let c=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>c(u)),setTimeout(()=>{if(!this.appCheck){let u=this.V.getImmediate({optional:!0});u?c(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bn(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(He(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new bn(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Jc(){return new TextEncoder}function je(o,t){return o<t?-1:o>t?1:0}function el(o,t){let i=0;for(;i<o.length&&i<t.length;){let s=o.codePointAt(i),c=t.codePointAt(i);if(s!==c){if(s<128&&c<128)return je(s,c);{let u=Jc(),v=tl(u.encode(Us(o,i)),u.encode(Us(t,i)));return v!==0?v:je(s,c)}}i+=s>65535?2:1}return je(o.length,t.length)}function Us(o,t){return o.codePointAt(t)>65535?o.substring(t,t+2):o.substring(t,t+1)}function tl(o,t){for(let i=0;i<o.length&&i<t.length;++i)if(o[i]!==t[i])return je(o[i],t[i]);return je(o.length,t.length)}var Ri=class o{constructor(t,i,s){i===void 0?i=0:i>t.length&&fe(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&fe(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return o.comparator(this,t)===0}child(t){let i=this.segments.slice(this.offset,this.limit());return t instanceof o?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){let s=Math.min(t.length,i.length);for(let c=0;c<s;c++){let u=o.compareSegments(t.get(c),i.get(c));if(u!==0)return u}return je(t.length,i.length)}static compareSegments(t,i){let s=o.isNumericId(t),c=o.isNumericId(i);return s&&!c?-1:!s&&c?1:s&&c?o.extractNumericId(t).compare(o.extractNumericId(i)):el(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wn.fromString(t.substring(4,t.length-2))}},Oe=class o extends Ri{construct(t,i,s){return new o(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let i=[];for(let s of t){if(s.indexOf("//")>=0)throw new ne(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(c=>c.length>0))}return new o(i)}static emptyPath(){return new o([])}};var Qe=class o{constructor(t){this.path=t}static fromPath(t){return new o(Oe.fromString(t))}static fromName(t){return new o(Oe.fromString(t).popFirst(5))}static empty(){return new o(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new o(new Oe(t.slice()))}};var Pi=class{constructor(t,i,s,c){this.indexId=t,this.collectionGroup=i,this.fields=s,this.indexState=c}};Pi.UNKNOWN_ID=-1;function nl(o){return o.name==="IndexedDbTransactionError"}function il(o){return o===0&&1/o==-1/0}var rl="remoteDocuments",ea="owner";var ta="mutationQueues";var na="mutations";var ia="documentMutations",ol="remoteDocumentsV14";var ra="remoteDocumentGlobal";var oa="targets";var sa="targetDocuments";var aa="targetGlobal",ca="collectionParents";var la="clientMetadata";var ua="bundles";var da="namedQueries";var sl="indexConfiguration";var al="indexState";var cl="indexEntries";var ha="documentOverlays";var ll="globals";var ul=[ta,na,ia,rl,oa,ea,aa,sa,la,ra,ca,ua,da],bh=[...ul,ha],dl=[ta,na,ia,ol,oa,ea,aa,sa,la,ra,ca,ua,da,ha],hl=dl,fl=[...hl,sl,al,cl];var Ch=[...fl,ll];var ut=class o{constructor(t,i){this.comparator=t,this.root=i||we.EMPTY}insert(t,i){return new o(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,we.BLACK,null,null))}remove(t){return new o(this.comparator,this.root.remove(t,this.comparator).copy(null,null,we.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){let s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){let c=this.comparator(t,s.key);if(c===0)return i+s.left.size;c<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){let t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ct(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ct(this.root,t,this.comparator,!1)}getReverseIterator(){return new ct(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ct(this.root,t,this.comparator,!0)}},ct=class{constructor(t,i,s,c){this.isReverse=c,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?s(t.key,i):1,i&&c&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},we=class o{constructor(t,i,s,c,u){this.key=t,this.value=i,this.color=s??o.RED,this.left=c??o.EMPTY,this.right=u??o.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,c,u){return new o(t??this.key,i??this.value,s??this.color,c??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let c=this,u=s(t,c.key);return c=u<0?c.copy(null,null,null,c.left.insert(t,i,s),null):u===0?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(t,i,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return o.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,c=this;if(i(t,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(t,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),i(t,c.key)===0){if(c.right.isEmpty())return o.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(t,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw fe(27949);return t+(this.isRed()?0:1)}};we.EMPTY=null,we.RED=!0,we.BLACK=!1;we.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(t,i,s,c,u){return this}insert(t,i,s){return new we(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Cn=class o{constructor(t){this.comparator=t,this.data=new ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){let s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){let c=s.getNext();if(this.comparator(c.key,t[1])>=0)return;i(c.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){let i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new An(this.data.getIterator())}getIteratorFrom(t){return new An(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof o)||this.size!==t.size)return!1;let i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){let c=i.getNext().key,u=s.getNext().key;if(this.comparator(c,u)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(i=>{t.push(i)}),t}toString(){let t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){let i=new o(this.comparator);return i.data=t,i}},An=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ki=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var dt=class o{constructor(t){this.binaryString=t}static fromBase64String(t){let i=function(c){try{return atob(c)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ki("Invalid base64 string: "+u):u}}(t);return new o(i)}static fromUint8Array(t){let i=function(c){let u="";for(let v=0;v<c.length;++v)u+=String.fromCharCode(c[v]);return u}(t);return new o(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){let s=new Uint8Array(i.length);for(let c=0;c<i.length;c++)s[c]=i.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return je(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};dt.EMPTY_BYTE_STRING=new dt("");var ml=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pl(o){if(He(!!o,39018),typeof o=="string"){let t=0,i=ml.exec(o);if(He(!!i,46558,{timestamp:o}),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),t=Number(c)}let s=new Date(o);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ft(o.seconds),nanos:Ft(o.nanos)}}function Ft(o){return typeof o=="number"?o:typeof o=="string"?Number(o):0}function gl(o){return typeof o=="string"?dt.fromBase64String(o):dt.fromUint8Array(o)}var Vi="(default)",Ni=class o{constructor(t,i){this.projectId=t,this.database=i||Vi}static empty(){return new o("","")}get isDefaultDatabase(){return this.database===Vi}isEqual(t){return t instanceof o&&t.projectId===this.projectId&&t.database===this.database}};var fa="__type__",yl="__max__";var ma="__vector__",pa="value";function vl(o){var t,i;return((i=(((t=o?.mapValue)===null||t===void 0?void 0:t.fields)||{})[fa])===null||i===void 0?void 0:i.stringValue)===ma}function Il(o){return(((o.mapValue||{}).fields||{}).__type__||{}).stringValue===yl}var Dh={mapValue:{fields:{[fa]:{stringValue:ma},[pa]:{arrayValue:{}}}}};var xh=new ut(Qe.comparator);var Sh=new ut(Qe.comparator);var Rh=new ut(Qe.comparator),Ph=new Cn(Qe.comparator);var kh=new Cn(je);var Gs,L;(L=Gs||(Gs={}))[L.OK=0]="OK",L[L.CANCELLED=1]="CANCELLED",L[L.UNKNOWN=2]="UNKNOWN",L[L.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",L[L.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",L[L.NOT_FOUND=5]="NOT_FOUND",L[L.ALREADY_EXISTS=6]="ALREADY_EXISTS",L[L.PERMISSION_DENIED=7]="PERMISSION_DENIED",L[L.UNAUTHENTICATED=16]="UNAUTHENTICATED",L[L.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",L[L.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",L[L.ABORTED=10]="ABORTED",L[L.OUT_OF_RANGE=11]="OUT_OF_RANGE",L[L.UNIMPLEMENTED=12]="UNIMPLEMENTED",L[L.INTERNAL=13]="INTERNAL",L[L.UNAVAILABLE=14]="UNAVAILABLE",L[L.DATA_LOSS=15]="DATA_LOSS";var Vh=new wn([4294967295,4294967295],0);var Dn=class{constructor(){}vt(t,i){this.Ct(t,i),i.Ft()}Ct(t,i){if("nullValue"in t)this.Mt(i,5);else if("booleanValue"in t)this.Mt(i,10),i.xt(t.booleanValue?1:0);else if("integerValue"in t)this.Mt(i,15),i.xt(Ft(t.integerValue));else if("doubleValue"in t){let s=Ft(t.doubleValue);isNaN(s)?this.Mt(i,13):(this.Mt(i,15),il(s)?i.xt(0):i.xt(s))}else if("timestampValue"in t){let s=t.timestampValue;this.Mt(i,20),typeof s=="string"&&(s=pl(s)),i.Ot(`${s.seconds||""}`),i.xt(s.nanos||0)}else if("stringValue"in t)this.Nt(t.stringValue,i),this.Bt(i);else if("bytesValue"in t)this.Mt(i,30),i.Lt(gl(t.bytesValue)),this.Bt(i);else if("referenceValue"in t)this.kt(t.referenceValue,i);else if("geoPointValue"in t){let s=t.geoPointValue;this.Mt(i,45),i.xt(s.latitude||0),i.xt(s.longitude||0)}else"mapValue"in t?Il(t)?this.Mt(i,Number.MAX_SAFE_INTEGER):vl(t)?this.qt(t.mapValue,i):(this.Qt(t.mapValue,i),this.Bt(i)):"arrayValue"in t?(this.$t(t.arrayValue,i),this.Bt(i)):fe(19022,{Ut:t})}Nt(t,i){this.Mt(i,25),this.Kt(t,i)}Kt(t,i){i.Ot(t)}Qt(t,i){let s=t.fields||{};this.Mt(i,55);for(let c of Object.keys(s))this.Nt(c,i),this.Ct(s[c],i)}qt(t,i){var s,c;let u=t.fields||{};this.Mt(i,53);let v=pa,I=((c=(s=u[v].arrayValue)===null||s===void 0?void 0:s.values)===null||c===void 0?void 0:c.length)||0;this.Mt(i,15),i.xt(Ft(I)),this.Nt(v,i),this.Ct(u[v],i)}$t(t,i){let s=t.values||[];this.Mt(i,50);for(let c of s)this.Ct(c,i)}kt(t,i){this.Mt(i,37),Qe.fromName(t).path.forEach(s=>{this.Mt(i,60),this.Kt(s,i)})}Mt(t,i){t.xt(i)}Bt(t){t.xt(2)}};Dn.Wt=new Dn;var Nh=new Uint8Array(0);var ga=41943040,_e=class o{static withCacheSize(t){return new o(t,o.DEFAULT_COLLECTION_PERCENTILE,o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}};_e.DEFAULT_COLLECTION_PERCENTILE=10,_e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_e.DEFAULT=new _e(ga,_e.DEFAULT_COLLECTION_PERCENTILE,_e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_e.DISABLED=new _e(-1,0,0);var _l=1048576;function Ti(){return typeof document<"u"?document:null}var Mi=class{constructor(t,i,s=1e3,c=1.5,u=6e4){this.xi=t,this.timerId=i,this.A_=s,this.R_=c,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();let i=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),c=Math.max(0,i-s);c>0&&ge("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,c,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var Fi=class o{constructor(t,i,s,c,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=c,this.removalCallback=u,this.deferred=new We,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,c,u){let v=Date.now()+s,I=new o(t,i,v,c,u);return I.start(s),I}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var Ks,Hs;(Hs=Ks||(Ks={})).xa="default",Hs.Cache="cache";function wl(o){let t={};return o.timeoutSeconds!==void 0&&(t.timeoutSeconds=o.timeoutSeconds),t}var Ws=new Map;function El(o,t,i,s){if(t===!0&&s===!0)throw new ne(ce.INVALID_ARGUMENT,`${o} and ${i} cannot be used together.`)}function Tl(o){if(o===void 0)return"undefined";if(o===null)return"null";if(typeof o=="string")return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if(typeof o=="number"||typeof o=="boolean")return""+o;if(typeof o=="object"){if(o instanceof Array)return"an array";{let t=function(s){return s.constructor?s.constructor.name:null}(o);return t?`a custom ${t} object`:"an object"}}return typeof o=="function"?"a function":fe(12329,{type:typeof o})}function bl(o,t){if("_delegate"in o&&(o=o._delegate),!(o instanceof t)){if(t.name===o.constructor.name)throw new ne(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=Tl(o);throw new ne(ce.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return o}var ya="firestore.googleapis.com",Qs=!0,xn=class{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ne(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ya,this.ssl=Qs}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:Qs;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ga;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_l)throw new ne(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}El("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wl((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ne(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ne(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ne(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,c){return s.timeoutSeconds===c.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Sn=class{constructor(t,i,s,c){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xn({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ne(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xn(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new bi;switch(s.type){case"firstParty":return new xi(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ne(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return O(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){let s=Ws.get(i);s&&(ge("ComponentProvider","Removing Datastore"),Ws.delete(i),s.terminate())}(this),Promise.resolve()}};function va(o,t,i,s={}){var c;o=bl(o,Sn);let u=Po(t),v=o._getSettings(),I=Object.assign(Object.assign({},v),{emulatorOptions:o._getEmulatorOptions()}),w=`${t}:${i}`;u&&(ko(`https://${w}`),No("Firestore",!0)),v.host!==ya&&v.host!==w&&Zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let T=Object.assign(Object.assign({},v),{host:w,ssl:u,emulatorOptions:s});if(!Fo(T,I)&&(o._setSettings(T),s.mockUserToken)){let S,P;if(typeof s.mockUserToken=="string")S=s.mockUserToken,P=te.MOCK_USER;else{S=Vo(s.mockUserToken,(c=o._app)===null||c===void 0?void 0:c.options.projectId);let D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new ne(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new te(D)}o._authCredentials=new Ci(new Tn(S,P))}}var Ys="AsyncQueue",Rn=class{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Mi(this,"async_queue_retry"),this.rc=()=>{let s=Ti();s&&ge(Ys,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;let i=Ti();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;let i=Ti();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});let i=new We;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}ac(){return O(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!nl(t))throw t;ge(Ys,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(t){let i=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Zs("INTERNAL UNHANDLED ERROR: ",Xs(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=i,i}enqueueAfterDelay(t,i,s){this.oc(),this.nc.indexOf(t)>-1&&(i=0);let c=Fi.createAndSchedule(this,t,i,s,u=>this.uc(u));return this.Zu.push(c),c}oc(){this.Xu&&fe(47125,{cc:Xs(this.Xu)})}verifyOperationInProgress(){}lc(){return O(this,null,function*(){let t;do t=this.sc,yield t;while(t!==this.sc)})}hc(t){for(let i of this.Zu)if(i.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(let i of this.Zu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){let i=this.Zu.indexOf(t);this.Zu.splice(i,1)}};function Xs(o){let t=o.message||"";return o.stack&&(t=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),t}var Oi=class extends Sn{constructor(t,i,s,c){super(t,i,s,c),this.type="firestore",this._queue=new Rn,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return O(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new Rn(t),this._firestoreClient=void 0,yield t}})}};function Ia(o,t){let i=typeof o=="object"?o:$o(),s=typeof o=="string"?o:t||Vi,c=Bo(i,"firestore").getImmediate({identifier:s});if(!c._initialized){let u=Ro("firestore");u&&va(c,...u)}return c}var Mh=new RegExp("[~\\*/\\[\\]]");(function(t,i=!0){(function(c){Ot=c})(qo),Lo(new Oo("firestore",(s,{instanceIdentifier:c,options:u})=>{let v=s.getProvider("app").getImmediate(),I=new Oi(new Ai(s.getProvider("auth-internal")),new Si(v,s.getProvider("app-check-internal")),function(T,S){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new ne(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ni(T.options.projectId,S)}(v,c),v);return u=Object.assign({useFetchStreams:i},u),I._setSettings(u),I},"PUBLIC").setMultipleInstances(!0)),Nt(qs,$s,t),Nt(qs,$s,"esm2017")})();var jt=class{constructor(t){return t}},_a="firestore",Li=class{constructor(){return Ko(_a)}};var Bi=new qr("angularfire2.firestore-instances");function Cl(o,t){let i=Go(_a,o,t);return i&&new jt(i)}function Al(o){return(t,i)=>{let s=t.runOutsideAngular(()=>o(i));return new jt(s)}}var Dl={provide:Li,deps:[[new xt,Bi]]},xl={provide:jt,useFactory:Cl,deps:[[new xt,Bi],Qo]};function wa(o,...t){return Nt("angularfire",Uo.full,"fst"),en([xl,Dl,{provide:Bi,useFactory:Al(o),multi:!0,deps:[Rt,et,Ho,Yo,[new xt,es],[new xt,Jo],...t]}])}var Ea=Wo(Ia,!0);var Sl=()=>rs(),Ta=(o,t)=>typeof window>"u"?Promise.resolve():Sl().then(()=>is([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],t));Ta(window);to(Rs,{providers:[{provide:ro,useClass:fi},xs(),ao(Ss,co(so)),Xo(()=>Zo(So.firebaseConfig)),wa(()=>Ea()),ts(()=>ns()),no()]});
